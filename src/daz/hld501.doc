=TEX
% TQtemplate.tex
\documentstyle[hol1,11pt,TQ]{article}
\ftlinepenalty=9999
\def\Hide#1{}
\def\Bool{``$\it{:}bool\,$''}
\makeindex
\TPPproject{DAZ PROJECT}  %% Mandatory field
%\TPPvolume{}
%\TPPpart{}
\TPPtitle{High Level Design: Overview}  %% Mandatory field
\TPPref{ISS/HAT/DAZ/HLD501}  %% Mandatory field
\def\SCCSversion{$Revision$
}
\TPPissue{\SCCSversion}  %% Mandatory field
%\TPPdate{}  %% Mandatory field (with sensible default)
\TPPstatus{Draft}			%% Mandatory field
\TPPtype{Specification}
\TPPkeywords{HOL}
\TPPauthor{D.J.~King & WIN01}  %% Mandatory field
\TPPauthorisation{R.D.~Arthan & HAT Manager}
\TPPabstract{
This document contains the high level design for the Compliance
Tool to be supplied to DRA as part of the DAZ project.}
%\TPPabstractB{}
%\TPPabstractC{}
%\TPPabstractD{}
%\TPPabstractE{}
%\TPPabstractF{}
\TPPdistribution{\parbox[t]{4.0in}{%
      Library}}

%\TPPclass{CLASSIFICATION}
%\def\TPPheadlhs{}
%\def\TPPheadcentre{}
%def\TPPheadrhs{}
%\def\TPPfootlhs{}
%\def\TPPfootcentre{}
%\def\TPPfootrhs{}
\newfont{\icllogo}{icllogo50}
\def\TPPheadlhs{$\vcenter{\halign{##\cr\icllogo ICL\cr}}$}
%\def\TPPheadcentre{}
%\def\TPPheadcentreproject{}
%\def\TPPheadrhs{}
\let\TPPfootlhs=\TPPfootrhs
\def\TPPfootcentre{$\vcenter{\halign{\hfil\strut##\hfil\cr
COPYRIGHT  \copyright\ ICL 1994\cr
COMMERCIAL IN CONFIDENCE\cr}}$}


\begin{document}
\TPPsetsizes
\makeTPPfrontpage

\vfill
\begin{centering}

\bf Copyright \copyright\ : International Computers Ltd \number\year

\end{centering}

\newpage
\section{DOCUMENT CONTROL}
\subsection{Contents List}
\tableofcontents
\pagebreak
\subsection{Document Cross References}
\bibliographystyle{fmu}
\bibliography{fmu,daz}

\subsection{Changes History}
\begin{description}
\item[Issue 1.1 (\FormatDate{94/01/31})] First draft.
\end{description}
\subsection{Changes Forecast}
To be updated in response to comments received.
\pagebreak
\section{GENERAL}
\subsection{Scope}
This document gives the high level design for the Compliance Notation Tool.
The document is part of the response to requirements specified by \cite{ISS/HAT/DAZ/PLN001} and supported by DRA's design specifications \cite{DRA/CIS/CSE3/SWI/WP/1}, \cite{DRA/CIS/CSE3/SWI/WP/2}, \cite{DRA/CIS/CSE3/SWI/WP/4}, \cite{DRA/CIS/CSE3/SWI/WP/5}, \cite{DRA/CIS/CSE3/SWI/WP/6} and \cite{DRA/CIS/CSE3/SWI/WP/9}.

\subsection{Introduction}
A Compliance Tool for processing Compliance Notation is required by DRA as part of the contract MAL 1a/0493 \cite{MAL1A/0493}.
The Compliance Notation is a convenient way of expressing a program written in SPARK together with the specification of what the program should do. A program and its specification expressed in Compliance Notation helps an observer to ascertain whether the program meets its specification.
The Compliance Notation is designed with automation of verification conditions in mind, and a technique for generating the verification conditions a Compliance Notation literate script is provided in \cite{DRA/CIS/CSE3/SWI/WP/1}.  
The required Tool processes Compliance Notation to produce two outputs; a SPARK program which can subsequently compiled with an Ada Compiler, and a Z Document which includes verification conditions.
The concrete syntax of the SPARK program is specified in ??? and the format of the Z Document is specified in \cite{DRA/CIS/CSE3/SWI/WP/2} and illustrated by an example in \cite{DRA/CIS/CSE3/SWI/WP/5}.

\subsubsection{Background and Requirements}
The requirements for the Compliance Tool are stated in \cite{ISS/HAT/DAZ/DEF501} which are an organised digest of the contractual requirements \cite{ISS/HAT/DAZ/PLN001} annotated with requirement numbers for traceability.

\subsubsection{Dependencies}
The dependencies for developing the Compliance Tool are stated in \cite[section 4]{ISS/HAT/DAZ/PLN002}.

\section{SYSTEM DECOMPOSITION}
The overall system structure of the Compliance Tool is shown in \cite[table 1]{ISS/HAT/DAZ/PLN003} and is reproduced in this document for the readers convenience as Table \ref{SystemStructure}.

\begin{table}
\begin{center}
\begin{tabular}{|c|c|c|c|c|c|c|}\hline
% Row 1:
%\multicolumn{7}{|c|}{\bf Custom HCI} \\\hline
% Row 1:
\multicolumn{2}{|c|}{\bf Basic HCI} &
\multicolumn{5}{c|}{\bf Custom HCI} \\\hline
% Row 2:
\multicolumn{7}{|c|}{{\Product} HCI} \\\hline
% Row 3: Col 1:
\begin{tabular}{@{}c@{}}
{\bf SPARK}\\
{\bf Program}\\
\end{tabular}
&
% Col 2:
\begin{tabular}{@{}c@{}}
{\bf Z Document}\\
{\bf Extractor}
\end{tabular}
&
% Col 3
\begin{tabular}{@{}c@{}}
{\bf Custom Proof}\\
{\bf Facilities}
\end{tabular}
&
% Col 4:
\hspace{0.2in}
&
% Col 5:
\begin{tabular}{@{}c@{}}
Script\\
Editor
\end{tabular}
&
% Col 6
\hspace{0.2in}
&
% Col 7
\begin{tabular}{@{}c@{}}
{\LaTeX}\\
Interface
\end{tabular}
\\\cline{2-3}
% Col 1:
{\bf Extractor}
&
% Cols 2-3:
\multicolumn{2}{c|}{{\bf Z Toolkit Extensions}}
& & & &\\\cline{1-3}\cline{5-5}\cline{7-7}
% Row 4 Cols 1-3:
\multicolumn{3}{|c|}{\Product}
&
% Col 4:
\hspace{0.2in}
&
% Col 5:
X/Motif
&
% Col 6:
\hspace{0.2in}
&
% Col 7:
{\LaTeX}/{\TeX}\\\hline
\multicolumn{7}{|c|}{UNIX}\\\hline
\end{tabular}

\end{center}
\caption{System Structure}\label{SystemStructure}
\end{table}

The items to be developed as part of the Compliance Tool are shown in {\bf bold font} in the table.

The SPARK program extractor takes Compliance Notation and produces a SPARK program which can be subsequently checked with the SPARK Examiner and compiled with an Ada Compiler.
The Z document extractor takes Compliance Notation and produces a Z document.
Both of these extractors have considerable amount commonality in the lexical analysis, parsing and conversion to abstract syntax of the Compliance Notation.

Separating out the initial processing of the Compliance Notation from the. 

\subsection{User Interface}
\subsubsection{Basic HCI}
\subsubsection{Custom HCI}

\subsection{Compliance Notation Processing}
Table \ref{CNProcessingStructure} shows the subsystem structure of the Compliance Notation Processor.

\begin{table}
\begin{center}
\begin{tabular}{|c|c|c|c|c|c|}\hline
% Row 1:
\multicolumn{6}{|c|}{\bf Basic/Custom HCI} \\\hline
% Row 2:
{\bf Compliance Notation} &{\Product} &\hspace{0.5in} &{\bf SPARK} &\hspace{0.5in} & {\bf Z}\\
% Row 3:
{\bf Input} &{Z} &\hspace{0.5in} &{\bf Output} &\hspace{0.5in} &{\bf Document}\\
% Row 4:
{\bf Facility} &{Support} &\hspace{0.5in} &{\bf Function} &\hspace{0.5in} &{\bf Output}\\
% Row 5:
& &\hspace{0.5in} & &\hspace{0.5in} &{\bf Function}\\\hline
\multicolumn{6}{|c|}{{\Product}} \\\hline
\end{tabular}
\end{center}
\caption{Compliance Notatation Processing Structure}\label{CNProcessingStructure}
\end{table}
\subsubsection{Extraction Functions}
\subsubsection{Z Toolkit Extensions}


\subsection{Custom Proof Facilities}

\section{DATA STORAGE AND FORMATS}

\section{TEST SPECIFICATION}
Testing is to be carried out according to the criteria identified
in \cite{ISS/HAT/DAZ/PLN003}.

\end{document}


