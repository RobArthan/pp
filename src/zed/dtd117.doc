=TEX
\documentclass[a4paper,12pt]{article}

%%%%% YOU CAN ADD OTHER PACKAGES AS NEEDED BELOW:
\usepackage{A4}
\usepackage{Lemma1}
\usepackage{ProofPower}
\usepackage{epsf}
\makeindex

\def\Title{ Detailed Design of the Z Library Real Numbers }

\def\Abstract{\begin{center}
{\bf Abstract}\par\parbox{0.7\hsize}
{\small This document gives the detailed design for the theory
of real numbers in \ProductZ.}
\end{center}}

\def\Reference{LEMMA1/HOL/DTD117}

\def\Author{R.D. Arthan}

\def\EMail{{\tt rda@lemma-one.com}}

\def\Phone{+44 118 958 4409}

\def\Fax{+44 118 956 1920}

%%%%% YOU MAY WANT TO CHANGE THE FOLLOWING TO GET A NICE FRONT PAGE:
\def\FrontPageTitle{ {\huge \Title } }
\def\FrontPageHeader{\raisebox{16ex}{\begin{tabular}[t]{c}
\bf Copyright \copyright\ : Lemma 1 Ltd \number\year\\\strut\\
\end{tabular}}}
\begin{centering}



\end{centering}

%%%%% THE FOLLOWING DEFAULTS WILL GENERALLY BE RIGHT:

\def\Version{$Revision: 1.1 $%
}
\def\Date{\FormatDate{$Date: 2000/12/08 18:05:16 $%
}}

%%%%% NOW BEGIN THE DOCUMENT AND MAKE THE FRONT PAGE

\begin{document}
\headsep=0mm
\FrontPage
\headsep=10mm

%%%%% STANDARD RED-TAPE SECTIONS (MAY WANT TO INTERLEAVE SOME \newpage COMMANDS IN THESE)

%%%%% CONTENTS:

\subsection{Contents}

\tableofcontents

%%%%% REFERENCES:

\newpage
\subsection{References}

\bibliographystyle{fmu}

%%%%% CHANGE THE FOLLOWING AS NECESSARY (E.G., TO PICK UP daz.bib):
{\raggedright
\bibliography{fmu}
}
%%%%% CHANGES HISTORY:
\subsection{Changes History}
\begin{description}
\item[Issue 1.1] Initial development draft.
\end{description}

%%%%%  CHANGES FORECAST:

\subsection{Changes Forecast}

None.

%%%%% DISTRIBUTION LIST

\subsection{Distribution}

Lemma 1 build system.

\newpage

\section{Introduction}
\subsection{Scope}
This document contains the detailed design
of the Z Library theory of real numbers and their proof support.
The high level design for this material is given in \cite{DS/FMU/IED/HLD017}.


\subsection{Purpose and Background}
See \cite{DS/FMU/IED/HLD011}.


\section{PREAMBLE}
=SML
open_theory"z_numbers";
push_pc "z_sets_alg";
delete_theory"z_reals" handle Fail _ => ();
set_flag ("z_type_check_only", false);
set_flag ("z_use_axioms", true);
new_theory"z_reals";
new_parent"¯";
=TEX
\section {DEFINITION OF FIXITY}

¹Z
fun 2 _ ..‰R _
°

¹Z
fun 3 _ +‰R _, _ -‰R _
°

¹Z
fun 4 _ *‰R _, _ /‰R _, _ /‰Z _
°

¹Z
fun 5 ~‰R _
°
¹Z
fun 5 abs‰R _
°

¹Z
fun 6 _ ^‰Z _
°

¹Z
rel _ <‰R _, _ ¼‰R _, _ ¾‰R _, _ >‰R _
°

\section{THE REAL NUMBERS}

\subsection{The Numbers and their Basic Operators}

We need to break out into extended Z to define the reals and their operators.
=SML
val _ = set_flag("standard_z_paras", false);
=TEX
¹Z
¯ ¦ U[¬Totality:¯ SET®]
°
Now we define the ordering properties of the real numbers.
=TEX

We characterise the main operators as being the same as the HOL ones:
¹ZAX
Ü Û_<‰R_Ý : ¯ ª ¯ ;
Ü Û_ ¼‰R _Ý : ¯ ª ¯ ;
Ü Û~‰R_Ý  : ¯ ­ ¯ ;
Ü Û_+‰R_Ý : ¯ ¸ ¯ ­ ¯ ;
Ü Û_*‰R_Ý : ¯ ¸ ¯ ­ ¯ ;
Ü Û_/‰R_Ý : ¯ ¸ ¯ ­ ¯ ;
Ü Ûabs‰R_Ý : ¯ ­ ¯
÷üüüüüüüüüüüüüüüüüüüüüüüüüüüüü
Ü	µx, y: ¯· x <‰R y ¤ ¬x <‰R y® ;
Ü	µx, y: ¯· x ¼‰R y ¤ ¬x ¼‰R y® ;
Ü	µx: ¯· ~‰R x = ¬~‰R x® ;
Ü	µx, y: ¯· x +‰R y = ¬x +‰R y® ;
Ü	µx, y: ¯· x *‰R y = ¬x *‰R y® ;
Ü	µx, y: ¯· x /‰R y = ¬x /‰R y® ;
Ü	µx: ¯· abs‰R x = ¬Abs‰R x®
°
¹ZAX
Ü Û_ >‰R _Ý : ¯ ª ¯ ;
Ü Û_ ¾‰R _Ý : ¯ ª ¯ ;
Ü Û_-‰R_Ý : ¯ ¸ ¯ ­ ¯
÷üüüüüüüüüüüüüüüüüüüüüüüüüüüüü
Ü	µx, y: ¯· x >‰R y ¤ y <‰R x ;
Ü	µx, y: ¯· x ¾‰R y ¤ y ¼‰R x ;
Ü	µx, y: ¯· x -‰R y = x +‰R ~‰R y
°

Conversion of integers to reals:
¹ZAX
Ü	ÛrealÝ: ú ­ ¯
÷üüüüüüüüüüüüüüüüüüüüüüüüüüüüü
Ü	real 1 = ¬î¯ 1®
Ü±	(µi: ú· real (~i) = ~‰R (real i))
Ü±	(µi, j: ú· real (i + j) = real i +‰R real j)
°

Division (of one integer by another):
¹ZAX
Ü	Û_/‰Z_Ý: ú ¸ ú ­ ¯
÷üüüüüüüüüüüüüüüüüüüüüüüüüüüüü
Ü	µi, j : ú· i /‰Z j = real i /‰R real j
°

=TEX
Exponentiation (with integer exponents):

¹ZAX
Ü	Û_^‰Z_Ý: ¯ ¸ ú ­ ¯
÷üüüüüüüüüüüüüüüüüüüüüüüüüüüüü
Ü	(µx : ¯· x ^‰Z 1 = x)
Ü±	(µx : ¯; i, j : ú· x ^‰Z (i + j) = x ^‰Z i *‰R x ^‰Z j)
°
=TEX
Interval:

¹ZAX
Ü	Û_..‰R_Ý: ¯ ¸ ¯ ­ ð ¯
÷üüüüüüüüüüüüüüüüüüüüüüüüüüüüü
Ü	µx, y : ¯·x ..‰R y = { t : ¯ | x ¼‰R t ¼‰R y }
°

=TEX
\section{THEOREMS}

=TEX
\section{SIGNATURE}
=SML
signature ÛZRealsÝ = sig
=TEX

\subsection{Syntax Functions}

\subsection{Definitions}

\subsection{Theorems}

\subsection{Conversions and Tactics}


\subsection{Computational Conversions}
=DOC
val Ûz_¯_plus_convÝ : CONV;		val Ûz_¯_times_convÝ : CONV;
val Ûz_¯_recip_convÝ : CONV;		val Ûz_¯_less_convÝ : CONV;
val Ûz_¯_¼_convÝ : CONV;		val Ûz_¯_eq_convÝ : CONV;
val Ûz_¯_over_convÝ : CONV;

val Ûz_¯_greater_convÝ : CONV;	val Ûz_¯_¾_convÝ : CONV;
val Ûz_¯_subtract_convÝ : CONV;	val Ûz_¯_minus_convÝ


val Ûz_¯_lit_convÝ;		val Ûz_¯_lit_conv1Ý;
=DESCRIBE
The first block of conversions carry out arithmetic computations on
real numbers given as fractions with integer literal operands.

The second block of conversions simplify their operand by replacing
the principal connective with one which may be handled by a conversion
in the first block.

The final two conversions convert to and from Z and HOL real
fractions.

=FAILURE
117001	?0 is not a Z real fraction with integer literal operands
117002	?0 is not an HOL real fraction with literal operands
=ENDDOC

\subsection{Epilogue}
=SML
end (* of signature ZReals *);
val _ = reset_flag("standard_z_paras");

=TEX
\section{TEST POLICY}
The module tests for this module are to follow the guidelines
laid down in the quality plan~\cite{DS/FMU/IED/PLN007}.
The various conversions, tactics etc. need to be tested in addition to the
check of the theory design.


\twocolumn[\section{INDEX}]
\small
\printindex

\end{document}







