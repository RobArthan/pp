=IGN
********************************************************************************
mdt060.doc: this file is part of the PPZed system

Copyright (c) 2002 Lemma 1 Ltd.

See the file LICENSE for your rights to use and change this file.

Contact: Rob Arthan < rda@lemma-one.com >
********************************************************************************
%  mdt060.doc  %Z% $Date: 2006/07/19 14:19:57 $ $Revision: 1.21 $ $RCSfile: mdt060.doc,v $
=TEX
% TQtemplate.tex
\documentstyle[hol1,11pt,TQ]{article}
\ftlinepenalty=9999
\def\Hide#1{}
\def\Bool{``$\it{:}bool\,$''}
\makeindex
\TPPproject{FST PROJECT}  %% Mandatory field
%\TPPvolume{}
%\TPPpart{}
\TPPtitle{Module Tests for Z Lexical Analyser}  %% Mandatory field
\TPPref{DS/FMU/IED/MDT060}  %% Mandatory field
\def\SCCSversion{$Revision: 1.21 $%
}
\TPPissue{\SCCSversion}  %% Mandatory field
\TPPdate{\FormatDate{$Date: 2006/07/19 14:19:57 $%
}}
\TPPstatus{Draft}			%% Mandatory field
\TPPtype{Specification}
\TPPkeywords{HOL}
\TPPauthor{D.J.~King & WIN01}  %% Mandatory field
%\TPPauthors{Name 1&location 1\\Name 2&location 2\\Name 3&location 3}
\TPPauthorisation{R.D.~Arthan & FST Team Leader}
\TPPabstract{
This document comprises test cases and test code/data for
testing the Z lexical analyser described in the document
DS/FMU/IED/DTD060.}
%\TPPabstractB{}
%\TPPabstractC{}
%\TPPabstractD{}
%\TPPabstractE{}
%\TPPabstractF{}
\TPPdistribution{\parbox[t]{4.0in}{%
      Library \\ R.D. Arthan\\ D.J. King}}

%\TPPclass{CLASSIFICATION}
%\def\TPPheadlhs{}
%\def\TPPheadcentre{}
%def\TPPheadrhs{}
%\def\TPPfootlhs{}
%\def\TPPfootcentre{}
%\def\TPPfootrhs{}

\begin{document}
\TPPsetsizes
\makeTPPfrontpage

\vfill
\begin{centering}

\bf Copyright \copyright\ : Lemma 1 Ltd. \number\year

\end{centering}

\pagebreak
\section{DOCUMENT CONTROL}
\subsection{Contents List}
\tableofcontents
\subsection{Document Cross References}
\bibliographystyle{fmu}
\bibliography{fmu}

\subsection{Changes History}  % to get section number `0.3'
\begin{description}

\item[Issue 1.2, \FormatDate{92/03/19} ] Initial Draft.

\item[Issue 1.3, \FormatDate{92/04/30} ] Changed punctuation tables
according to new version of \cite{DS/FMU/IED/DEF007}.

\item[Issue 1.4, \FormatDate{92/06/30} ] Removed test ZLex3.3.54 which
was incorrect.
\item[Issue 1.6~(\FormatDate{92/07/21
})] Changed names of schema operations.
\item[Issue 1.7] Added test for keywords.
\item[Issue 1.8] Updates for SML97.
\item[Issue 1.9] Support for left associative operators.
\item[Issue 1.10] R0071: multiple underscores now allowed in identifiers.
\item[Issue 1.11] Copyright and banner updates for open source release.
\item[Issue 1.12] PPZed-specific updates for open source release
\item[Issue 1.13] Tests for new treatment of subscripts.
\item[Issue 1.14] Tests for new forms of stubs and the new \$-feature.
\item[Issue 1.15] Added test for `,,'.
\item[Issue 1.16] Added tests for
=INLINEFT
µâs
=TEX
\ etc.
\item[Issue 1.17, 1.18] Revised tests for \$-feature.
\item[Issue 1.19] Added test for handling of subscript digits.
\item[Issue 1.20, 1.21] Added tests for new punctuation characters.
\item[Issue 1.22] Added tests for floating point literals.
\end{description}
\subsection{Changes Forecast}

Correct test for quotation and antiquotation.

\pagebreak
\section{GENERAL}
\subsection{Scope}

This document comprises test cases and test code/data for
testing the Z lexical analyser specified in \cite{DS/FMU/IED/DTD060}.

\subsection{Introduction}

\subsubsection{Background and Purpose}
This document is intended to supply module test for the Z lexical
analyser as defined in \cite{DS/FMU/IED/DTD060} and implemented
in \cite{DS/FMU/IED/IMP060}. The tests are intended to meet
the requirements for tests identified in the quality plan
\cite{DS/FMU/IED/PLN008}.

We have only one function to test, namely $z\_lex$. The detailed design
refers to \cite{DS/FMU/IED/DEF007} for the behaviour of this function.
Therefore it is that document which largely defines the function to be tested.
The detailed design does indicate error conditions which should be
tested.

\subsubsection{Dependencies}

These tests depend on
the test harness as implemented in DS/FMU/IED/IMP013, and
its corresponding detailed design document, DS/FMU/IED/DTD013.

\subsubsection{Possible Enhancements}

None known.

\subsubsection{Deficiencies}

There are no known deficiencies.

\section{TEST HARNESS INITIALISATION}

=SML
use_file "dtd013.sml";
use_file "imp013.sml";
init_mt_results ();
=TEX

\section{TEST CASES}
\begin{description}
\item[ZLex.1]
Check that inputs consisting of a single punctuation character
and reserved words are handled correctly. Also check that
the empty string handles correctly.
\item[ZLex.2]
Check that various forms of white space are handled correctly.
\item[ZLex.3]
Check that inputs comprising of identifiers (alphanumeric,
greek, symbolic and subscripted punctuation) are
handled correctly.
\item[ZLex.4]
Exhibit the reachable errors identified in the detailed design.
\item[ZLex.5]
Check that inputs comprising of numbers
are handled correctly.
\item[ZLex.6]
Check that inputs comprising of decoration
are handled correctly.
\item[ZLex.7]
Check that inputs containing keywords
are handled correctly.
\item[ZLex.8]
Check the \$-feature.
\end{description}
\section{PREAMBLE}
=SML
open ZLex;
init_mt_results();
=TEX
The following function tests for the equality of Z tokens.
=SML
fun tok_eq (tok1, tok2) = (
	case (tok1, tok2) of 
	  (ZTAqTm x1, ZTAqTm x2) => x1 =$ x2
	| (ZTChar x1, ZTChar x2) => x1 = x2
	| (ZTDecor x1, ZTDecor x2) => x1 = x2
	| (ZTId x1, ZTId x2) => x1 = x2
	| (ZTNumber x1, ZTNumber x2) => x1 = x2
	| (ZTFloat x1, ZTFloat x2) => x1 = x2
	| (ZTString x1, ZTString x2) => x1 = x2
	| (ZTAmpersand, ZTAmpersand) => true
	| (ZTAx, ZTAx) => true
	| (ZTBSlash, ZTBSlash) => true
	| (ZTBar, ZTBar) => true
	| (ZTColon, ZTColon) => true
	| (ZTComma, ZTComma) => true
	| (ZTConjecture, ZTConjecture) => true
	| (ZTDot, ZTDot) => true
	| (ZTDots, ZTDots) => true
	| (ZTEnd, ZTEnd) => true
	| (ZTEos, ZTEos) => true
	| (ZTFreeTyDef, ZTFreeTyDef) => true
	| (ZTFun, ZTFun) => true
	| (ZTGen, ZTGen) => true
	| (ZTIs, ZTIs) => true
	| (ZTLbrace, ZTLbrace) => true
	| (ZTLbrack, ZTLbrack) => true
	| (ZTLet, ZTLet) => true
	| (ZTLsqbrack, ZTLsqbrack) => true
	| (ZTPipe, ZTPipe) => true
	| (ZTPre, ZTPre) => true
	| (ZTÑ, ZTÑ) => true
	| (ZTò, ZTò) => true
	| (ZT± a, ZT± b) => a = b
	| (ZT¶, ZT¶) => true
	| (ZT§ a, ZT§ b) => a = b
	| (ZT∂ a, ZT∂ b) => a = b
	| (ZT∂â1 a, ZT∂â1 b) => a = b
	| (ZTª, ZTª) => true
	| (ZT˘, ZT˘) => true
	| (ZTÃ, ZTÃ) => true
	| (ZTµ a, ZTµ b) => a = b
	| (ZT¥ a, ZT¥ b) => a = b
	| (ZTß, ZTß) => true
	| (ZTÕ, ZTÕ) => true
	| (ZT≥ a, ZT≥ b) => a = b
	| (ZT≤ a, ZT≤ b) => a = b
	| (ZT¢, ZT¢) => true
	| (ZT∑, ZT∑) => true
	| (ZT , ZT ) => true
	| (ZT∏, ZT∏) => true
	| (ZTRbrace, ZTRbrace) => true
	| (ZTRbrack, ZTRbrack) => true
	| (ZTRel, ZTRel) => true
	| (ZTRsqbrack, ZTRsqbrack) => true
	| (ZTSch, ZTSch) => true
	| (ZTSemi, ZTSemi) => true
	| (ZTSlash, ZTSlash) => true
	| (ZTSt, ZTSt) => true
	| (ZTUnderScore, ZTUnderScore) => true
	| (ZTUnderScoreQuery, ZTUnderScoreQuery) => true
	| (ZTUnderScoreExclam, ZTUnderScoreExclam) => true
	| (ZTVert, ZTVert) => true
	| _ => false
);
=TEX
and the following function does lists of tokens:
=SML
fun tok_list_eq ([], []) =
		true
|   tok_list_eq (tok1::more1, tok2::more2) =
		tok_eq(tok1, tok2) andalso tok_list_eq (more1, more2)
|   tok_list_eq (_, _) = false;
=TEX
\section{THE TESTS}
\subsection{Case 1}
=SML
val z_lex_1 = z_lex o (fn s => [Lex.Text s]);
=TEX
=SML
store_mt_results (mt_runf tok_list_eq)
[("ZLex.1.1", z_lex_1, "Ã", [ZTÃ, ZTEos]),
("ZLex.1.2", z_lex_1, "Õ", [ZTÕ, ZTEos]),
("ZLex.1.3", z_lex_1, "µ", [ZTµ false, ZTEos]),
("ZLex.1.4", z_lex_1, "∂", [ZT∂ false, ZTEos]),
("ZLex.1.5", z_lex_1, "∂â1", [ZT∂â1 false, ZTEos]),
("ZLex.1.6", z_lex_1, "≥", [ZT≥ false, ZTEos]),
("ZLex.1.7", z_lex_1, "pre", [ZTPre, ZTEos]),
("ZLex.1.8", z_lex_1, "Ñ", [ZTÑ, ZTEos]),
("ZLex.1.9", z_lex_1, "ò", [ZTò, ZTEos]),
("ZLex.1.10", z_lex_1, ">>", [ZTPipe, ZTEos])];
=TEX
=SML
store_mt_results (mt_runf tok_list_eq)
[("ZLex.1.11", z_lex_1, "˘âs", [ZT˘, ZTEos]),
("ZLex.1.12", z_lex_1, "ªâs", [ZTª, ZTEos]),
("ZLex.1.13", z_lex_1, "±", [ZT± false, ZTEos]),
("ZLex.1.14", z_lex_1, "≤", [ZT≤ false, ZTEos]),
("ZLex.1.15", z_lex_1, "§", [ZT§ false, ZTEos]),
("ZLex.1.16", z_lex_1, "¥", [ZT¥ false, ZTEos]),
("ZLex.1.17", z_lex_1, "let", [ZTLet, ZTEos]),
("ZLex.1.18", z_lex_1, "fun", [ZTId "fun", ZTEos]),
("ZLex.1.19", z_lex_1, "gen", [ZTId "gen", ZTEos]),
("ZLex.1.20", z_lex_1, "rel", [ZTId "rel", ZTEos])];
=TEX
=SML
store_mt_results (mt_runf tok_list_eq)
[("ZLex.1.21", z_lex_1, "&", [ZTAmpersand, ZTEos]),
("ZLex.1.23", z_lex_1, "{", [ZTLbrace, ZTEos]),
("ZLex.1.24", z_lex_1, "}", [ZTRbrace, ZTEos]),
("ZLex.1.25", z_lex_1, "(", [ZTLbrack, ZTEos]),
("ZLex.1.26", z_lex_1, ")", [ZTRbrack, ZTEos]),
("ZLex.1.27", z_lex_1, "[", [ZTLsqbrack, ZTEos]),
("ZLex.1.28", z_lex_1, "]", [ZTRsqbrack, ZTEos]),
("ZLex.1.29", z_lex_1, "ß", [ZTß, ZTEos]),
("ZLex.1.30", z_lex_1, "¢", [ZT¢, ZTEos])];
=TEX
=SML
store_mt_results (mt_runf tok_list_eq)
[("ZLex.1.31", z_lex_1, ",", [ZTComma, ZTEos]),
("ZLex.1.32", z_lex_1, "...", [ZTDots, ZTEos]),
("ZLex.1.33", z_lex_1, ".", [ZTDot, ZTEos]),
("ZLex.1.34", z_lex_1, "/", [ZTSlash, ZTEos]),
("ZLex.1.35", z_lex_1, "\\âs", [ZTBSlash, ZTEos]),
("ZLex.1.36", z_lex_1, "::=", [ZTFreeTyDef, ZTEos]),
("ZLex.1.37", z_lex_1, ":", [ZTColon, ZTEos]),
("ZLex.1.38", z_lex_1, ";", [ZTSemi, ZTEos]),
("ZLex.1.39", z_lex_1, "|", [ZTVert, ZTEos]),
("ZLex.1.40", z_lex_1, "?Ù", [ZTConjecture, ZTEos])];
=TEX
=SML
store_mt_results (mt_runf tok_list_eq)
[("ZLex.1.41", z_lex_1, "¶", [ZT¶, ZTEos]),
("ZLex.1.42", z_lex_1, "∑", [ZT∑, ZTEos]),
("ZLex.1.43", z_lex_1, "∏", [ZT∏, ZTEos]),
("ZLex.1.44", z_lex_1, " ", [ZT , ZTEos]),
("ZLex.1.45", z_lex_1, "", [ZTEos])];
=TEX
=SML
store_mt_results (mt_runf tok_list_eq)
[("ZLex.1.51", z_lex_1, "_", [ZTUnderScore, ZTEos]),
("ZLex.1.52", z_lex_1, "_?", [ZTUnderScoreQuery, ZTEos]),
("ZLex.1.53", z_lex_1, "_!", [ZTUnderScoreExclam, ZTEos]),
("ZLex.1.54", z_lex_1, ",, ,,", [ZTDots, ZTDots, ZTEos])
];
=TEX
=SML
store_mt_results (mt_runf tok_list_eq)
[("ZLex.1.61", z_lex_1, "±âs", [ZT± true, ZTEos]),
("ZLex.1.62", z_lex_1, "≤âs", [ZT≤ true, ZTEos]),
("ZLex.1.63", z_lex_1, "§âs", [ZT§ true, ZTEos]),
("ZLex.1.64", z_lex_1, "¥âs", [ZT¥ true, ZTEos]),
("ZLex.1.65", z_lex_1, "µâs", [ZTµ true, ZTEos]),
("ZLex.1.66", z_lex_1, "∂âs", [ZT∂ true, ZTEos]),
("ZLex.1.67", z_lex_1, "∂â1âs", [ZT∂â1 true, ZTEos])];
=TEX
\subsection{Case 2}
=SML
val z_lex_2 = z_lex_1;
=TEX
=SML
store_mt_results (mt_runf tok_list_eq)
[
 ("ZLex.2.1", z_lex_2, "\t A        B\t\n C D E\tF", map ZTId (explode"ABCDEF") @ [ZTEos])
];
=TEX

\subsection{Case 3}
=SML
fun z_lex_3 inp = (
	(case z_lex_1 inp of
	[ZTId inp, ZTEos] => 1
	|other => 2
	)
);
=TEX
\subsubsection{Alphanumeric Identifiers}
=SMLLITERAL
store_mt_results mt_run
[("ZLex.3.1.1", z_lex_3, "a", 1),
 ("ZLex.3.1.2", z_lex_3, "ab", 1),
 ("ZLex.3.1.3", z_lex_3, "abc123", 1),
 ("ZLex.3.1.4", z_lex_3, "a_b", 1),
 ("ZLex.3.1.5", z_lex_3, "a_1", 1),
 ("ZLex.3.1.6", z_lex_3, "abc_123_def", 1),
 ("ZLex.3.1.7", z_lex_3, "aâ1", 1),
 ("ZLex.3.1.8", z_lex_3, "aâ1â±", 1),
 ("ZLex.3.1.9", z_lex_3, "abc_123â1", 1),
 ("ZLex.3.1.10", z_lex_3, "abc_123â1â±", 1),
 ("ZLex.3.1.21", z_lex_3, "abc__123â1â±", 1)];
=TEX
=SMLLITERAL
store_mt_results mt_run
[("ZLex.3.1.11", z_lex_3, "a_", 2),
 ("ZLex.3.1.12", z_lex_3, "a_b_", 2),
 ("ZLex.3.1.13", z_lex_3, "_abc123", 2),
 ("ZLex.3.1.14", z_lex_3, "a_b c", 2),
 ("ZLex.3.1.15", z_lex_3, "a±1", 2),
 ("ZLex.3.1.16", z_lex_3, "abc&123_def", 2),
 ("ZLex.3.1.17", z_lex_3, "aâ1_", 2),
 ("ZLex.3.1.18", z_lex_3, "a_1-a", 2),
 ("ZLex.3.1.19", z_lex_3, "abc'_123aâ1", 2),
 ("ZLex.3.1.20", z_lex_3, "abc_1231aâ±'", 2),
 ("ZLex.3.1.22", z_lex_3, "abc_1231a__", 2)];
=TEX
\subsubsection{Greek Identifiers}
=SML
store_mt_results mt_run
[("ZLex.3.2.1", z_lex_3, "¡", 1),
 ("ZLex.3.2.2", z_lex_3, "¬", 1),
 ("ZLex.3.2.3", z_lex_3, "«", 1),
 ("ZLex.3.2.4", z_lex_3, "ƒ", 1),
 ("ZLex.3.2.5", z_lex_3, "≈", 1),
 ("ZLex.3.2.6", z_lex_3, "⁄", 1),
 ("ZLex.3.2.7", z_lex_3, "»", 1),
 ("ZLex.3.2.8", z_lex_3, " ", 2), (* ZT  *)
 ("ZLex.3.2.9", z_lex_3, "…", 1),
 ("ZLex.3.2.10", z_lex_3, "À", 1)];
=TEX
=SML
store_mt_results mt_run
[("ZLex.3.2.11", z_lex_3, "Ã", 2), (* ZTÃ *)
 ("ZLex.3.2.12", z_lex_3, "Õ", 2), (* ZTÕ *)
 ("ZLex.3.2.13", z_lex_3, "Œ", 1),
 ("ZLex.3.2.14", z_lex_3, "ÿ", 1),
 ("ZLex.3.2.15", z_lex_3, "–", 1),
 ("ZLex.3.2.16", z_lex_3, "“", 1),
 ("ZLex.3.2.17", z_lex_3, "”", 1),
 ("ZLex.3.2.18", z_lex_3, "‘", 1),
 ("ZLex.3.2.19", z_lex_3, "’", 1),
 ("ZLex.3.2.20", z_lex_3, "∆", 1)];
=TEX
=SML
store_mt_results mt_run
[("ZLex.3.2.21", z_lex_3, "—", 1),
 ("ZLex.3.2.22", z_lex_3, "Ÿ", 1),
 ("ZLex.3.2.23", z_lex_3, "◊", 1),
 ("ZLex.3.2.24", z_lex_3, "á", 1),
 ("ZLex.3.2.25", z_lex_3, "Ñ", 2), (* ZTÑ *)
 ("ZLex.3.2.26", z_lex_3, "ä", 1),
 ("ZLex.3.2.27", z_lex_3, "å", 1),
 ("ZLex.3.2.28", z_lex_3, "ò", 2), (* ZTò *)
 ("ZLex.3.2.29", z_lex_3, "ê", 1),
 ("ZLex.3.2.30", z_lex_3, "ì", 1)];
=TEX
=SMLLITERAL
store_mt_results mt_run
[("ZLex.3.2.31", z_lex_3, "ï", 1),
 ("ZLex.3.2.32", z_lex_3, "Ü", 1),
 ("ZLex.3.2.33", z_lex_3, "ô", 1),
 ("ZLex.3.2.34", z_lex_3, "ó", 1),
 ("ZLex.3.2.35", z_lex_3, "¡", 1),
 ("ZLex.3.2.36", z_lex_3, "¡â1", 1),
 ("ZLex.3.2.37", z_lex_3, "Ñâò", 1),
 ("ZLex.3.2.38", z_lex_3, "òâÑ", 1),
 ("ZLex.3.2.39", z_lex_3, "òâµ", 1),
 ("ZLex.3.2.40", z_lex_3, "òâµ", 1)];
=TEX
\subsubsection{Symbolic Identifiers}
=SMLLITERAL
store_mt_results mt_run
[("ZLex.3.3.1", z_lex_3, "Á", 1),
 ("ZLex.3.3.2", z_lex_3, "Í", 1),
 ("ZLex.3.3.3", z_lex_3, "¿", 1),
 ("ZLex.3.3.4", z_lex_3, "°", 1),
 ("ZLex.3.3.5", z_lex_3, "ﬁ", 1),
 ("ZLex.3.3.6", z_lex_3, "•", 1),
 ("ZLex.3.3.7", z_lex_3, "Ä", 1),
 ("ZLex.3.3.8", z_lex_3, "†", 1),
 ("ZLex.3.3.9", z_lex_3, "ö", 1),
 ("ZLex.3.3.10", z_lex_3, "é", 1)];
=TEX
=SML
store_mt_results mt_run
[("ZLex.3.3.11", z_lex_3, "®", 1),
 ("ZLex.3.3.12", z_lex_3, "©", 1),
 ("ZLex.3.3.13", z_lex_3, "·", 1),
 ("ZLex.3.3.14", z_lex_3, "Å", 1),
 ("ZLex.3.3.15", z_lex_3, "Ú", 1),
 ("ZLex.3.3.16", z_lex_3, "í", 1),
 ("ZLex.3.3.17", z_lex_3, "Ù", 1),
 ("ZLex.3.3.18", z_lex_3, "´", 1),
 ("ZLex.3.3.19", z_lex_3, "ﬂ", 1)];
=TEX
=SML
store_mt_results mt_run
[("ZLex.3.3.21", z_lex_3, "≠", 1),
 ("ZLex.3.3.22", z_lex_3, "˛", 1),
 ("ZLex.3.3.23", z_lex_3, "‡", 1),
 ("ZLex.3.3.24", z_lex_3, "œ", 1),
 ("ZLex.3.3.25", z_lex_3, "Ô", 1),
 ("ZLex.3.3.26", z_lex_3, "è", 1),
 ("ZLex.3.3.27", z_lex_3, "™", 1),
 ("ZLex.3.3.30", z_lex_3, "º", 1)];
=TEX
=SML
store_mt_results mt_run
[("ZLex.3.3.31", z_lex_3, "æ", 1),
 ("ZLex.3.3.32", z_lex_3, "<", 1),
 ("ZLex.3.3.33", z_lex_3, ">", 1),
 ("ZLex.3.3.34", z_lex_3, "Î", 1),
 ("ZLex.3.3.35", z_lex_3, "ã", 1),
 ("ZLex.3.3.36", z_lex_3, "Ω", 1),
 ("ZLex.3.3.37", z_lex_3, "+", 1),
 ("ZLex.3.3.38", z_lex_3, "-", 1),
 ("ZLex.3.3.39", z_lex_3, "*", 1),
 ("ZLex.3.3.40", z_lex_3, "#", 1)];
=TEX
=SML
store_mt_results mt_run
[("ZLex.3.3.41", z_lex_3, ".", 2), (* gives ZTDot *)
 ("ZLex.3.3.42", z_lex_3, "~", 1),
 ("ZLex.3.3.43", z_lex_3, "Ç", 1),
 ("ZLex.3.3.44", z_lex_3, "˚", 1),
 ("ZLex.3.3.45", z_lex_3, "˝", 1),
 ("ZLex.3.3.46", z_lex_3, "[", 2),
 ("ZLex.3.3.47", z_lex_3, "]", 2),
 ("ZLex.3.3.48", z_lex_3, "{", 2),
 ("ZLex.3.3.49", z_lex_3, "}", 2),
 ("ZLex.3.3.50", z_lex_3, "ß", 2)];
=TEX
=SML
store_mt_results mt_run
[("ZLex.3.3.51", z_lex_3, "¢", 2),
 ("ZLex.3.3.52", z_lex_3, "/", 2),
 ("ZLex.3.3.53", z_lex_3, "\\âs", 2),
 ("ZLex.3.3.55", z_lex_3, "±", 2),
 ("ZLex.3.3.56", z_lex_3, "≤", 2),
 ("ZLex.3.3.57", z_lex_3, "≥", 2),
 ("ZLex.3.3.58", z_lex_3, "¥", 2),
 ("ZLex.3.3.59", z_lex_3, "§", 2),
 ("ZLex.3.3.60", z_lex_3, "=", 1)];
=TEX
=SML
store_mt_results mt_run
[ ("ZLex.3.3.61", z_lex_3, "ç", 1),
 ("ZLex.3.3.62", z_lex_3, "µ", 2),
 ("ZLex.3.3.63", z_lex_3, "∂", 2),
 ("ZLex.3.3.64", z_lex_3, "∑", 2),
 ("ZLex.3.3.66", z_lex_3, "∏", 2),
 ("ZLex.3.3.67", z_lex_3, "¶", 2),
 ("ZLex.3.3.68", z_lex_3, "&", 2),
 ("ZLex.3.3.69", z_lex_3, "ªâs", 2),
 ("ZLex.3.3.70", z_lex_3, "˘âs", 2)];
=TEX
=SML
store_mt_results mt_run
[("ZLex.3.3.71", z_lex_3, "::=", 2),
 ("ZLex.3.3.72", z_lex_3, "Ù", 1),
 ("ZLex.3.3.73", z_lex_3, "::=::=", 1),
 ("ZLex.3.3.74", z_lex_3, "|", 2)];
=TEX
=SMLLITERAL
store_mt_results mt_run
[("ZLex.3.3.81", z_lex_3, "Áâ0", 1),
 ("ZLex.3.3.82", z_lex_3, "Íâ0", 1),
 ("ZLex.3.3.83", z_lex_3, "¿â0", 1),
 ("ZLex.3.3.84", z_lex_3, "°â0", 1),
 ("ZLex.3.3.85", z_lex_3, "ﬁâ0", 1),
 ("ZLex.3.3.86", z_lex_3, "••â0", 1),
 ("ZLex.3.3.87", z_lex_3, "ÄÄâ0", 1),
 ("ZLex.3.3.88", z_lex_3, "††â0", 1),
 ("ZLex.3.3.89", z_lex_3, "ööâ0", 1),
 ("ZLex.3.3.90", z_lex_3, "ééâ0", 1)];
=TEX
=TEX
\subsubsection{Subscripted Punctuation Identifiers}
=SMLLITERAL
store_mt_results mt_run
[("ZLex.3.4.1", z_lex_3, ",â0", 1),
 ("ZLex.3.4.2", z_lex_3, ";â0", 1),
 ("ZLex.3.4.3", z_lex_3, ":â0", 1),
 ("ZLex.3.4.4", z_lex_3, "(â0", 1),
 ("ZLex.3.4.5", z_lex_3, ")â0", 1),
 ("ZLex.3.4.6", z_lex_3, "Êâ0", 1),
 ("ZLex.3.4.7", z_lex_3, "Óâ0", 1),
 ("ZLex.3.4.8", z_lex_3, "â0", 1),
 ("ZLex.3.4.9", z_lex_3, "˙â0", 1)];
=TEX
=SML
store_mt_results mt_run
[ ("ZLex.3.4.10", z_lex_3, "â0â0", 1),
 ("ZLex.3.4.11", z_lex_3, "â0â0â0", 1)];
=TEX
=SML
store_mt_results mt_run
[ ("ZLex.3.4.12", z_lex_3, "âaâb", 1),
 ("ZLex.3.4.13", z_lex_3, "âab", 1),
 ("ZLex.3.4.14", z_lex_3, "â1", 1),
 ("ZLex.3.4.15", z_lex_3, "â123", 1),
 ("ZLex.3.4.16", z_lex_3, "â{", 1),
 ("ZLex.3.4.17", z_lex_3, "â(", 1)];
=TEX
=SML
store_mt_results (mt_runf tok_list_eq)
[ ("ZLex.3.4.18", z_lex_1, "â1a", [ZTId "â1", ZTId "a", ZTEos]),
("ZLex.3.4.19", z_lex_1, "â1_", [ZTId "â1", ZTUnderScore, ZTEos]),
("ZLex.3.4.20", z_lex_1, "â123abc", [ZTId "â123", ZTId "abc", ZTEos]),
("ZLex.3.4.21", z_lex_1, "â123_", [ZTId "â123", ZTUnderScore, ZTEos]),
("ZLex.3.4.22", z_lex_1, "âAbc_123_", [ZTId "âAbc_123", ZTUnderScore, ZTEos]),
("ZLex.3.4.23", z_lex_1, "â}_", [ZTId "â}", ZTUnderScore, ZTEos]),
("ZLex.3.4.24", z_lex_1, "â(Abc_123", [ZTId "â(", ZTId "Abc_123", ZTEos]),
("ZLex.3.4.25", z_lex_1, "âAbc_123", [ZTId "â", ZTId "Abc_123", ZTEos]),
("ZLex.3.4.26", z_lex_1, "â", [ZTId "â", ZTId "", ZTEos]),
("ZLex.3.4.27", z_lex_1, "â}_!", [ZTId "â}", ZTUnderScoreExclam, ZTEos]),
("ZLex.3.4.30", z_lex_1, "â1_?", [ZTId "â1", ZTUnderScoreQuery, ZTEos]),
("ZLex.3.4.31", z_lex_1, "Ê", [ZTId "Ê", ZTId "", ZTEos]),
("ZLex.3.4.32", z_lex_1, "ñÛ", [ZTId "ñ", ZTId "Û", ZTEos]),
("ZLex.3.4.33", z_lex_1, "ñÛ", [ZTId "ñ", ZTId "Û", ZTEos]),
("ZLex.3.4.34", z_lex_1, "Ø÷", [ZTId "Ø", ZTId "÷", ZTEos]),
("ZLex.3.4.35", z_lex_1, "É¶=", [ZTId "É", ZT¶, ZTId "=", ZTEos])];
=TEX
\subsection{Case 4}
=SML
val z_lex_4 = z_lex_1;
=TEX
=SMLLITERAL
store_mt_results mt_run_fail
[("ZLex.4.1.1", z_lex_4, "aâÁxÍ", gen_fail_msg "Z Lexical Analyser" 60007 []),
 ("ZLex.4.1.2", z_lex_4, "â", gen_fail_msg "Z Lexical Analyser" 60008 []),
 ("ZLex.4.1.3", z_lex_4, "õ", gen_fail_msg "Z Lexical Analyser" 60008 []),
 ("ZLex.4.1.4", z_lex_4, "aõ2", gen_fail_msg "Z Lexical Analyser" 60008 []),
 ("ZLex.4.1.5", z_lex_4, "â", gen_fail_msg "Z Lexical Analyser" 60008 []),
 ("ZLex.4.1.6", z_lex_4, "aË0Í", gen_fail_msg "Z Lexical Analyser" 60008 [])
];
=TEX

\subsection{Case 5}
=SML
fun z_lex_5 inp = (
	case z_lex_1 inp of
		[ZTNumber _, ZTEos] => 1
	|	[ZTFloat _, ZTEos] => 2
	|	other => 3
);
=TEX
=SML
store_mt_results mt_run
[ ("ZLex.5.1.1", z_lex_5, "0", 1),
 ("ZLex.5.1.2", z_lex_5, "42", 1),
 ("ZLex.5.1.3", z_lex_5, "1234567890", 1),
 ("ZLex.5.1.3", z_lex_5, "12.0", 2),
 ("ZLex.5.1.3", z_lex_5, "0.1e5", 2),
 ("ZLex.5.1.3", z_lex_5, "0.1e~5", 2),
 ("ZLex.5.1.3", z_lex_5, "0.1E5", 2),
 ("ZLex.5.1.3", z_lex_5, "0.1E~5", 2),
 ("ZLex.5.1.4", z_lex_5, "…", 3),
 ("ZLex.5.1.5", z_lex_5, "l", 3),
 ("ZLex.5.1.6", z_lex_5, "!", 3)];
=TEX

\subsection{Case 6}
=SML
fun z_lex_6 inp = (
	(case z_lex_1 inp of
	[ZTDecor inp, ZTEos] => 1
	|other => 2
	)
);
=TEX
=SML
store_mt_results mt_run
[ ("ZLex.6.1.1", z_lex_6, "'", 1),
 ("ZLex.6.1.2", z_lex_6, "?", 1),
 ("ZLex.6.1.3", z_lex_6, "!", 1),
 ("ZLex.6.1.4", z_lex_6, "'''", 1),
 ("ZLex.6.1.5", z_lex_6, "?'", 1),
 ("ZLex.6.1.6", z_lex_6, "?!'", 1),
 ("ZLex.6.1.7", z_lex_6, "a", 2),
 ("ZLex.6.1.8", z_lex_6, "¡", 2),
 ("ZLex.6.1.9", z_lex_6, "¿", 2)];
=TEX

\subsection{Case 7}
=SML
fun z_lex_7 inp = (
	(case z_lex_1 inp of
	[ZTId inp, ZTEos] => 1
	|other => 2
	)
);
=TEX
=SML
store_mt_results mt_run
[ ("ZLex.7.1.1", z_lex_7, "%%bigoplus%%", 1),
 ("ZLex.7.1.2", z_lex_7, "%%Box%%", 1),
 ("ZLex.7.1.3", z_lex_7, "%%wr%%", 1)];
=TEX


\subsection{Case 8}
=SML
val z_lex_8 = z_lex;
=SML
open Lex;
store_mt_results (mt_runf tok_list_eq)
[ ("ZLex.8.1", z_lex_8, [Text "$", String "abc def"], [ZTId "$\"abc def\"", ZTEos]),
 ("ZLex.8.2", z_lex_8, [Text "$ ", String "abc def"], [ZTId "$", ZTString "abc def", ZTEos])
];
=TEX

\subsection{Case 9}
=SML
val z_lex_9 = z_lex;
=SML
open Lex;
store_mt_results (mt_runf tok_list_eq)
[ ("ZLex.9.1", z_lex_9, [Text "xâ1.2"], [ZTId "xâ1", ZTDot, ZTNumber 2, ZTEos])
];
=TEX

=TEX
\section{SUMMARY OF RESULTS}

=SML
diag_string(summarize_mt_results());
=TEX

\end{document}


