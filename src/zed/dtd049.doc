=TEX
% TQtemplate.tex
\documentstyle[hol1,11pt,TQ]{article}
\ftlinepenalty=9999
\def\Hide#1{}
\def\Bool{``$\it{:}bool\,$''}
\makeindex
\TPPproject{FST PROJECT}  %% Mandatory field
%\TPPvolume{}
%\TPPpart{}
\TPPtitle{Detailed Design for Z Paragraphs}  %% Mandatory field
\TPPref{DS/FMU/IED/DTD049}  %% Mandatory field
\def\SCCSversion{$Revision$%
}
\TPPissue{\SCCSversion}  %% Mandatory field
\TPPdate{\FormatDate{$Date$%
}}  %% Mandatory field (with sensible default)
\TPPstatus{Draft}
%\TPPstatus{Approved}
\TPPtype{Specification}
\TPPkeywords{HOL}
\TPPauthor{D.J.~King & WIN01}  %% Mandatory field
%\TPPauthors{Name 1&location 1\\Name 2&location 2\\Name 3&location 3}
\TPPauthorisation{R.D.~Arthan & FST Team Leader}
\TPPabstract{This document contains the detailed design of the
	interface used to input Z specifications into the Z Proof Support System.}
%\TPPabstractB{}
%\TPPabstractC{}
%\TPPabstractD{}
%\TPPabstractE{}
%\TPPabstractF{}
\TPPdistribution{\parbox[t]{4.0in}{%
      Library \\ R.D. Arthan\\ D.J. King}}

%\TPPclass{CLASSIFICATION}
%\def\TPPheadlhs{}
%\def\TPPheadcentre{}
%def\TPPheadrhs{}
%\def\TPPfootlhs{}
%\def\TPPfootcentre{}
%\def\TPPfootrhs{}

\begin{document}
\TPPsetsizes
\makeTPPfrontpage

\vfill
\begin{centering}

\bf Copyright \copyright\ : International Computers Ltd \number\year

\end{centering}

\pagebreak
\section{DOCUMENT CONTROL}
\subsection{Contents List}
\tableofcontents
\subsection{Document Cross References}

\bibliographystyle{fmu}
\bibliography{fmu}

\subsection{Changes History}  % to get section number `0.3'

\begin{description}
\item[\SCCSversion (9 June 1992)]
Initial draft.

\end{description}
\subsection{Changes Forecast}

As various parts of the user interface backend are completed, they
will be called from the appropriate recognizers. This will change the
implementation but is unlikely to require changes to this document.

\pagebreak
\section{GENERAL}

\subsection{Scope}
The design in this document covers Z paragraphs which comprise
part of the user interface for the Z proof support system
described in \cite{DS/FMU/IED/HLD018}. The development is
carried out according to \cite{DS/FMU/IED/PLN007}.

\subsection{Introduction}

\subsubsection{Background and Purpose}

Recognizers are required which will recognize a Z paragraph and
call up the appropriate paragraph processing functions to lexically analyse,
parse and type infer those paragraphs.



\subsubsection{Interface}
This document specifies the interface to the Z paragraph recognizers.
The signature for Z paragraphs is provided in section \ref{SIGNATURE}.

\subsubsection{Deficiencies}
None Known.
\subsubsection{Dependencies}

The signature for Z paragraphs depends on the type of the input which
the reader/writer produces. This type, $Lex.INPUT$ is
defined in \cite{DS/FMU/IED/DTD015}.

\section{VARIETIES OF Z PARAGRAPH}

The types of Z paragraph which this document covers are
those specified in the concrete syntax \cite{DS/FMU/IED/DEF007}. These
are basic type declarations (given sets), axiomatic descriptions,
constraints, schema definitions, abbreviations, schema references, generic
constants and free type definitions.

The relationship between the types of Z paragraphs and the recognizers
is described below.

{\ShowAllImages
\subsection{Z Axiomatic Box Recognizer}

The Z axiomatic box recognizer recognizes input beginning with
=INLINEFT
``¹ZAX''
=TEX
and ending with
=TEX
=INLINEFT
``°''.
=TEX

This recognizer supports axiomatic descriptions described in section 3.2.2
of \cite{Spivey89}.


\subsection{Z Generic Box Recognizer}

The Z generic box recognizer recognizes input beginning with
=INLINEFT
``''
=TEX
and ending with
=TEX
=INLINEFT
``ˆ''.
=TEX

This recognizer supports generic constants described in section 3.9.2
of \cite{Spivey89}.
 
\subsection{Z Schema Box Recognizer}

The Z schema box recognizer recognizes input beginning with
=INLINEFT
``ÿ''
=TEX
and ending with
=TEX
=INLINEFT
 ``ˆ''.
=TEX

This recognizer supports schemas (and generic schemas)
described in section 3.2.4 of \cite{Spivey89}.
 
 
\subsection{Z Other Recognizer}

The Z other box recognizer recognizes input beginning with
=INLINEFT
``¹Z''
=TEX
and ending with
=TEX
=INLINEFT
 ``°''.
=TEX


This recognizer supports basic type definitions
(section 3.2.1 of \cite{Spivey89}),
constraints (section 3.2.3), conjectures (not described in \cite{Spivey89},
abbreviation definitions (section 3.2.5) and free type definitions
(section 3.10).
  
\subsection{Z Term Recognizer}

The Z term recognizer recognizes input beginning with
=INLINEFT
``ñ''
=TEX
and ending with
=TEX
=INLINEFT
 ``®''.
=TEX

This recognizer supports Z terms which are useful for expressing
parts of Z when doing proof.

\section{RELATIONSHIP BETWEEN CONCRETE AND ABSTRACT SYNTAX}

Each of the recognizers generates one sort of Z abstract paragraph. The
constructors for the paragraphs in abstract syntax are introduced in
\cite{DS/FMU/IED/DTD061}. The relationship between the recognizers and
each of these constructors is presented in the table below.
 

{
\begin{tabular}{|l|l|l|}\hline
Recogniser&Abs. Syntax Constructor&Description of Paragraph\\\hline\hline
z\_axbox\_recognizer&ZParaAxDes&Axiomatic Descriptions\\\hline
z\_genbox\_recognizer&ZParaAxDes&Generic Constants\\\hline
z\_schbox\_recognizer&ZParaAbbDef&Schema Boxes\\\hline
z\_other\_recognizer&ZParaAbbDef, ZParaFreeType&Abbreviations, In-Line\\
&ZParaGivenSet,ZParaConstraint&Schema Expressions, Free Type Def'ns,\\
&ZParaConjecture, ZParaFixity&Given Sets, Constraints, Conjectures\\\hline
&&Fixity Paragraphs\\\hline
z\_term\_recognizer&ZParaTerm\\\hline
\end{tabular}
}
}
\section{THE SIGNATURE FOR Z PARAGRAPHS} \label{SIGNATURE}

=DOC
signature ÛZParagraphsÝ = sig
val Ûz_axbox_recogniserÝ : string * string * Lex.INPUT list * string -> TERM
val Ûz_genbox_recogniserÝ : string * string * Lex.INPUT list * string -> TERM
val Ûz_schbox_recogniserÝ : string * string * Lex.INPUT list * string -> TERM
val Ûz_other_recogniserÝ : string * string * Lex.INPUT list * string -> TERM
val Ûz_term_recogniserÝ : string * string * Lex.INPUT list * string -> TERM
=SML
end (* of signature ZParagraphs *);
=DESCRIBE
This structure is the interface to the Z paragraph recognizers. These
are called by the reader/writer when a Z paragraph is encountered, and
their purpose is to call the Z lexical analyser, parser type and type
inferrer, and the term generator to produce a HOL term which represents
the Z paragraph according to the Z mapping.

The structure is open.

=USES
These functions are not intended to be called by the user directly, but
are to be called by the reader/writer indirectly.

=FAILURE
49001	Only terms may appear between the symbols `ñ' and `®'
=ENDDOC
=TEX

\section{TEST POLICY}
The tests should follow the standards and guidelines
laid down in \cite{DS/FMU/IED/PLN008}.

\twocolumn[\section{INDEX OF DEFINED TERMS}]
\printindex
\end{document}



