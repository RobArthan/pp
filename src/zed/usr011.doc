% usr011.doc   %Z% $Date$ $Revision$ $RCSfile$
=IGNORE
           % U s e f u l C o m m a n d s

cp  ~ied/rel001/latest/sun3hol.db example.db; chmod +w example.db

% the style file USR.sty is held in usr024.doc and may be extracted as follows:

docsml usr024.doc ; mv usr024.sml USR.sty

% the make file is held in wrk027.doc and is called usr006.mkf

hol -d ~ied/rel001/latest/zed
rm -f *.aux *.dvi *.idx *.log *.sid

make -f usr006.mkf usr011.dvi1 

doctex usr011
texdvi usr011
texdvi usr011
bibtex usr011
texdvi usr011
dvipage usr011
doctex usr011 usr011A usr011X01 usr011X02 usr011X03; texdvi usr011
=TEX
% COPYRIGHT (c) International Computers Limited, 1992

\documentstyle[hol1,11pt,fleqn,USR]{book}

\def\SCCSversion{$Revision$%
}
\def\SCCSdate{\FormatDate{$Date$
}}

\USRmanual{Z TUTORIAL}
\USRref{USR011}
\def\USRdate{\SCCSdate}

\raggedbottom
\ftlinepenalty=9999
\makeindex

\begin{document}

\makeUSRfrontpage

\long\def\suppress#1{}

\long\def\ignore#1{}
\ignore{
=SML
fun summarize_mt_results _ = "No summary provided for usr023_slides.doc";
open_theory"z_bags";
new_theory"tutorial";
=TEX
}
\chapter*{CONTENTS}

\tableofcontents

\pagebreak

\setcounter{chapter}{-1}

\chapter{ABOUT THIS PUBLICATION} \label{intro}
\section{Purpose}

This document, one of several making up the user documentation for the \Product\ system,  contains a tutorial on the use of \Product\ for processing specifications in the Z language.

\section{Readership}

This document is intended to be among the first to be read by new users of {\Product} wishing to use the specification language Z.
The reader is assumed to have some familiarity with the use of {\Product} for HOL.

\section{Related Publications}
A bibliography is given at the end of this document.  Publications relating specifically to \Product\ are:

\begin{enumerate}
\item {\em DESCRIPTION MANUAL}: \cite{DS/FMU/IED/USR005}, a description of higher order logic
 and theorem proving methods in the \Product\ system;
\item {\em REFERENCE MANUAL}: \cite{DS/FMU/IED/USR006}, the reference documentation of the tools available in \Product.
\item {\em TUTORIAL MANUAL}: \cite{DS/FMU/IED/USR004}, the tutorial manual covering the basic \Product{} system.
\item Supplementary Guides: a collection of documents on special topics, notably the Installation Guide, \cite{DS/FMU/IED/USR007}.
\end{enumerate}

\section{Area Covered}

This tutorial is an introductory \ProductZ\ course which gives an idea of the way \Product\ is used for checking specifications and conducting proofs in \ProductZ\ , but which does not systematically explain the underlying principles.
(The second document, the {\em DESCRIPTION}, explains the principles.)
After working through  this tutorial, the reader should be capable of using \Product\ with \ProductZ{} for simple tasks, and should also be in a position to approach the \DESCRIPTION\ and the {\REFERENCE}.

This tutorial supplements \TUTORIAL{} with material relating to the Z language.
The tutorial should enable the \Product\ user to become familiar with the following subjects:

\begin{enumerate}
\item
The dialect of Z supported by the \Product\ system (which we call \ProductZ{}) and its manipulation via the metalanguage.
\item
Forward proof and derived rules of inference for Z.
\item
Goal directed proof, and tactics and tacticals.
\end{enumerate}

The sections that follow cover these topics in the sequence shown above.  

\section{Prerequisites}

It is presumed that the installation procedure been performed successfully so that the reader has available an installed \Product{} system (which must include the \ProductZ{} option), and that the reader is following the tutorial at a workstation and trying out the examples interactively.

\section{Acknowledgements}

ICL gratefully acknowledges its debt to the many researchers (both academic and industrial) who have provided the intellectual capital on which ICL has drawn in the development of \Product.

We are particularly endebted to Mike Gordon of The University of Cambridge, for his leading role in the research on which \Product\ is based, and for his liberal attitudes towards industrial exploitation of his ideas.

Although \Product\ is a completely new system designed and implemented by ICL, it would not have been possible without the academic research relating to the Cambridge HOL system and its predecessors.  

The \Product\ system is a proof tool for Higher Order Logic which builds upon ideas arising from research carried out at the Universities of Cambridge and Edinburgh, and elsewhere. 
In particular the logic supported by the system is (at an abstract level) identical to that implemented in the Cambridge HOL system, and the paradigm adopted for implementation of proof support for the language follows that adopted by Cambridge HOL, originating with the LCF system developed at Edinburgh.
The functional language ``standard ML'' used both for the implementation and as a interactive metalanguage for proof development, originates in work at Edinburgh, and has been developed to its present state by an international group of academic and industrial researchers.
The implementation of Standard ML on which \Product\ is based was itself implemented by David Matthews at the University of Cambridge, and is now commercially marketed by Abstract Hardware Limited.

The \Product{} system also supports specification and proof in the Z language, developed at the University of Oxford.
We are therefore also endebted to the research at Oxford (and elsewhere) which has contributed to the development of the Z language.

\pagebreak
\chapter{INTRODUCTION TO ProofPower-Z}

\section{Objectives}

The objectives of this tutorial are:

\begin{itemize}
\item
to describe the basic principles and concepts underlying support for Z in ProofPower
\item
to enable the student to write simple specifications and undertake elementary proofs in Z using ProofPower
\item
to enable the student to make effective use of the reference documentation 
\end{itemize}

\section{Tutorial Overview}

The tutorial consists of a number of chapters covering the following topics:

\begin{enumerate}
\item
Introduction to \ProductZ{}.

\begin{itemize}
\item
an overview of \ProductZ{}
\end{itemize}

\item
The Z Language in ProofPower
\begin{itemize}
\item
Propositions
\item
Declarations
\item
Predicates
\item
Expressions
\item
Schema Expressions
\item
Paragraphs
\end{itemize}

\item
The Z ToolKit in ProofPower

\begin{itemize}
\item
Sets
\item
Relations
\item
Numbers and Finiteness
\item
Sequences
\item
Bags
\end{itemize}

\end{enumerate}

\section{Prerequisites}

The tutorial is not intended as an introduction to formal methods or to the language Z.

We assume a working knowledge of:

\begin{itemize}
\item
Z as a specification language

Which may be obtained by reading any of a large number of texts now available on Z, or by attending a course.

\item
Use of \Product{} as used for specification and proof in HOL.

This can be obtained by reading the \TUTORIAL{}.

\end{itemize}

\section{Using ProofPower for Z}

\subsection{Setting Up}

A \Product{} system issued with the \Product-Z{} option will be provided with more than one database, not all of which will contain the Z support facilities.
The installation guide \cite{DS/FMU/IED/USR007} should be consulted to discover what databases have been supplied and their names, but usually a database called `zed' (full name `sun3zed.db' or `sun4zed.db') will be available supporting the \Product-Z{} option.

If the user intends to save the results of his work in a \Product{} database then he should make a database for himself using \verb!hol_make_database! with a suitable parent (for which, see installation guide \cite{DS/FMU/IED/USR007}).

e.g.

\begin{verbatim}
      hol_make_database -p ppzed demo
\end{verbatim}

The \Product{} system can be entered for work with Z by citing this database as follows:

\begin{verbatim}
     hol -d demo
\end{verbatim}

Apart from selecting or setting up a database including the Z support facilities, entering and leaving \Product{} for work in Z is the same as for work in HOL.

A line of user input following a prompt will (in this tutorial) be marked by a vertical line on the left,
 with `SML' in small letters to symbolize a prompt for input in the  metalanguage, thus: 
 
\vspace*{0.25in}

=SML

=TEX  

The system response which follows the user's input will be marked by a vertical line on the left, thus:

\vspace*{0.25in}

=GFT

=TEX 

\subsection{Setting the Context}

A \Product{} database supporting Z will also support HOL.
Though the system does support mixed language working, i.e. working at the same time with both of these languages, it is usual to work normally with a single language.
To do this smoothly the context needs to be set up correctly for that language.

The main aspect of context which is relevant is the {\it current\_theory}.
Associated with each theory is a language code, and the language code of the current theory influences the behaviour of the system.

The best place in the theory hierarchy to do work in Z is in a descendant of the theories which provide the Z toolkit.
The theory ``z\_bags'' should therefore be a parent of any theories which the user creates for work in Z.

=SML
open_theory "z_bags";
=TEX

Theories inherit by default the language of their parent, so any theory created while ``z\_bags'' is the current theory will have Z as its language.

The second most important aspect of context is the ``proof context''.
Many of the facilities provided by \Product{} work with either HOL or Z by access to information in the ``proof context''.
A proof context should therefore be chosen which supports Z.
Suitable candidates are ``z\_sets\_alg'' and ``z\_sets\_ext''.

=SML
set_pc "z_sets_ext";
=TEX

\chapter{THE Z LANGUAGE IN ProofPower}\label{Language}
\input{usr011A.tex}

\chapter{THE Z TOOLKIT IN ProofPower}\label{ToolKit}
\input{usr011B.tex}

\chapter{EXERCISES}\label{Exercises}
\input{usr011X.tex}

\chapter{SOLUTIONS TO EXERCISES}\label{Solutions}
\input{usr011S.tex}

\chapter*{REFERENCES}
\addcontentsline{toc}{chapter}{REFERENCES}

\bibliographystyle{fmu}
\bibliography{fmu} 

\twocolumn[\chapter*{INDEX}]
\addcontentsline{toc}{chapter}{INDEX}
\small
\printindex
\end{document}
