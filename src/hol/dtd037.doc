=TEX
% TQtemplate.tex
\documentstyle[hol,11pt,TQ]{article}
\ftlinepenalty=9999
\def\Hide#1{}
\def\Bool{``$\it{:}bool\,$''}
\makeindex
\TPPproject{FST PROJECT}  %% Mandatory field
%\TPPvolume{}
%\TPPpart{}
\TPPtitle{Detailed Design for the Theory of Pairs}  %% Mandatory field
\TPPref{DS/FMU/IED/DTD037}  %% Mandatory field
\def\SCCSversion{$Revision$%
}
\TPPissue{\SCCSversion}  %% Mandatory field
%\TPPdate{}  %% Mandatory field (with sensible default)
\TPPstatus{Draft}			%% Mandatory field
\TPPtype{Specification}
\TPPkeywords{HOL}
\TPPauthor{R.D.~Arthan & WIN01}  %% Mandatory field
%\TPPauthors{Name 1&location 1\\Name 2&location 2\\Name 3&location 3}
\TPPauthorisation{R.B.Jones & HAT Team Leader}
\TPPabstract{
This document contains the detailed design for the
theory of pairs for ICL HOL.}
%\TPPabstractB{}
%\TPPabstractC{}
%\TPPabstractD{}
%\TPPabstractE{}
%\TPPabstractF{}
\TPPdistribution{\parbox[t]{4.0in}{%
	Library}}

%\TPPclass{CLASSIFICATION}
%\def\TPPheadlhs{}
%\def\TPPheadcentre{}
%def\TPPheadrhs{}
%\def\TPPfootlhs{}
%\def\TPPfootcentre{}
%\def\TPPfootrhs{}

\begin{document}
\TPPsetsizes
\makeTPPfrontpage

\vfill
\begin{centering}

\bf Copyright \copyright\ : International Computers Ltd \number\year

\end{centering}

\newpage
\section{DOCUMENT CONTROL}
\subsection{Contents List}
\tableofcontents
\subsection{Document Cross References}
\bibliographystyle{fmu}
\bibliography{fmu}

\subsection{Changes History}  % to get section number `0.3'
\begin{description}
\item [Issue 1.1 (2nd October 1991)]
First draft.
\item [Issue 1.2 (2nd October 1991)]
Tidying up.
\item [Issue 1.3 (17th October 1991)]
Gained $fun\_rel\_thm$ from \cite{DS/FMU/IED/IMP038}.
\end{description}
\subsection{Changes Forecast}
None.
\pagebreak
\section{GENERAL}
\subsection{Scope}
This document contains the detailed design for the theory of pairs ICL HOL.
The high level design for this material is given in \cite{DS/FMU/IED/HLD011}.

\subsection{Introduction}
\subsubsection{Purpose and Background}
See \cite{DS/FMU/IED/HLD011}.
\subsubsection{Dependencies}
This document is dependent on the theory design support
tools in \cite{DS/FMU/IED/DTD035}. The implementation
will be dependent on the tactics in \cite{DS/FMU/IED/IMP028}
and on the subgoal package in \cite{DS/FMU/IED/IMP028}.
\subsubsection{Possible Enhancements}
None known.
\subsubsection{Deficiencies}
None known.

=TEX
\section{THE THEORY CONTENTS}
Note that additions to theory ``misc'' are given a design in
\cite{DS/FMU/IED/DTD023}.
\subsection{Theory Name}
=THDOC
req_name "pair" (Value "misc");
=DESCRIBE
The theory ``‚pair·'' defines a type of pairs, operators upon the type,
and some associated theorems.
=ENDDOC

=THDOC
req_const ("IsPairRep", ª:('a ã 'b ã BOOL) ã BOOLº);
req_defn("IsPairRep",([], ª
	Ñ comma:'aã'bã'aã'bãBOOL; fst sndé
		  (É x yé IsPairRep (comma x y) Ä fst (comma x y) = x Ä
		  snd (comma x y) = y) Ä
		  (É x y a bé (comma a b) = comma x y Ç a = x Ä b = y) Ä
		  (É pé IsPairRep p ä (comma (fst p) (snd p)) = p)º
));
=DESCRIBE
The representation type for pairs, as given by
$‚IsPairRep·$ is the type of a function of two arguments to $ª:BOOLº$.
=ENDDOC
A possible representation predicate for $IsPairRep$ is one which
only return true if the first argument equals the first of the pair to be represented,
 and the second argument equals the second of the pair.

=THDOC
req_infix (150, "â");
req_terminator"â";
req_type ("â", 2);
req_defn("â", ([], ª
	Ñf:'a â 'b ã 'a ã 'b ã BOOLéTypeDefn IsPairRep f
º));
=DESCRIBE
The HOL type constructor $‚â·$ creates the type of pairs.
=ENDDOC
=THDOC
req_const ("Fst", ª:'a â 'b ã 'aº);
req_const ("Snd", ª:'a â 'b ã 'bº);
req_const (",", ª:'a ã 'b ã 'a â 'bº);
req_infix (150, ",");
list_req_defn(["Fst","Snd",","], ([], ª
		(É x:'a; y:'bé Fst (x, y) = x Ä Snd (x, y) = y) Ä
		(É x:'a; y:'b; a:'a; b:'bé (a, b) = (x, y) Ç a = x Ä b = y) Ä
		(É p:'a â 'bé (Fst p, Snd p) = p)
º));
=DESCRIBE
The HOL constants $‚Fst·$ and $‚Snd·$ are the two projector
functions for the type of pairs,
and $‚,·$ is the constructor function.
Their definition is saved under each of the constant names as keys.
=ENDDOC
=THDOC
req_const ("Curry", ª:('a â 'b ã 'c) ã 'a ã 'b ã 'cº);
req_const ("Uncurry", ª:('a ã 'b ã 'c) ã 'a â 'b ã 'cº);
req_defn("Curry", ([], ªÉf x yé Curry f x y = f(x, y)º));
req_defn("Uncurry", ([], ªÉf x yé Uncurry f (x, y) = f x yº));
=DESCRIBE
The HOL constants $‚Curry·$ and $‚Uncurry·$ allow 
translation between curried and uncurried functions.
Their definitions are saved under keys with the same name.
=ENDDOC
=THDOC
req_thm("pair_clauses",([],ªÉ (x: 'a) (y: 'b) (a:'a) (b:'b)
	(p:'a â 'b)
	(fu : 'a ã 'b ã 'c)
	(fc : ('a â 'b) ã 'c) é
	Fst (x, y) = x Ä 
	Snd (x, y) = y Ä
	((a, b) = (x, y) Ç a = x Ä b = y) Ä
	(Fst p, Snd p) = p Ä
	Curry fc x y = fc (x, y) Ä
	Uncurry fu (x, y) = fu x y Ä
	Uncurry fu p = fu (Fst p) (Snd p) Ä	
	((a,b) = p Ç (a = Fst p Ä b = Snd p)) Ä
	(p = (a,b)  Ç (Fst p = a Ä Snd p = b))º));
=DESCRIBE
In the theorem $‚pair\_clauses·$ we gather together
a collection of rewriting theorems derived from the theory ``pair''.
=ENDDOC
\subsection{THE SIGNATURE}
=DOC
signature ‚PairTheory· = sig
=DESCRIBE
This is the signature in which we declare theory ``pair'',
and add a few theorems to theory ``misc''.
=ENDDOC
=DOC
val ‚type_lemmas_thm· : THM;
val ‚one_one_thm· : THM;
val ‚ext_thm· : THM;
val ‚fun_rel_thm· : THM;
=DESCRIBE
These four theorems are saved under their names as keys in theory ``misc''.
Their design is given in theory ``misc'', and not here,
though they are implemented within the structure $PairTheory$.
=ENDDOC
=DOC
val ‚pair_clauses· : THM;
end;
=DESCRIBE
This single theorem collects all the externally useful results of the
theory of pairs into one portmanteau theorem.
It is saved in theory ``pair'' with its name as its key. 
=ENDDOC
\section{TEST POLICY}

Any functions are to be tested according to then
general criteria laid down in the quality plan, \cite{DS/FMU/IED/PLN008},
with tests given in \cite{DS/FMU/IED/MDT037}.
Also in \cite{DS/FMU/IED/MDT037} the theory produced is checked by the theory design tools
of \cite{DS/FMU/IED/DTD035}, against the theory design provided.
\small
\twocolumn[\section{INDEX}]
\printindex

\end{document}
