%  $Id$ %Z%
=TEX
\documentstyle[hol1,11pt,TQ]{article}
\ftlinepenalty=9999
\makeindex
\TPPproject{FST Project}  %% Mandatory field
\TPPtitle{Detailed Design for the Theory of Functional Relations}  %% Mandatory field
\def\TPPheadtitle{Detailed Design for the Theory of\cr
Functional Relations}
\TPPref{DS/FMU/IED/DTD072}  %% Mandatory field
\def\SCCSversion{$Revision$ %
}
\TPPissue{\SCCSversion}  %% Mandatory field
\def\SCCSdate{\FormatDate{$Date$ %
}}
\TPPdate{\SCCSdate}  %% Mandatory field
\TPPstatus{Draft}			%% Mandatory field
\TPPtype{SML Literate Script}
\TPPkeywords{}
\TPPauthor{R.B.Jones & WIN01}  %% Mandatory field
%\TPPauthors{R.D. Arthan & WIN01\\K. Blackburn & WIN01}
\TPPauthorisation{R.D. Arthan & FST Team Leader}
\TPPabstract{This document gives a detailed design for the 
theory of relations.}
\TPPdistribution{\parbox[t]{4.0in}{%
	    Library
}}
%\TPPclass{CLASSIFICATION}
%\def\TPPheadlhs{}
%\def\TPPheadcentre{}
%def\TPPheadrhs{}
%\def\TPPfootlhs{}
%\def\TPPfootcentre{}
%\def\TPPfootrhs{}
\begin{document}
\makeTPPfrontpage
\vfill
\begin{centering}
\bf Copyright \copyright\ : International Computers Ltd 1992
\end{centering}
\pagebreak
\section{DOCUMENT CONTROL}
\subsection{Contents List}
\tableofcontents
\subsection{Document Cross References}
\bibliographystyle{fmu}
\bibliography{fmu}

\subsection{Changes History}
\begin{description}
\item[Issue \SCCSversion (\SCCSdate)]

This is the first draft of the document.

\end{description}
\subsection{Changes Forecast}

\section{GENERAL}
\subsection{Scope}
This document contains a detailed design
for the theory ``funrel''.
The design is implemented in \cite{DS/FMU/IED/IMP072}.

\subsection{Introduction}
\subsubsection{Purpose and Background}
This document contains the detailed design for the theory ``relation''.

\subsubsection{Dependencies}
This document depends on \cite{DS/FMU/IED/IMP071}, and the theory design tools of \cite{DS/FMU/IED/DTD035}.
\subsubsection{Deficiencies}
None known.
\subsubsection{Possible Enhancements}
\section{THE THEORY ``funrel''}
\subsection{Design of the theory ``funrel''}
=IGN
req_flag := Declare;
initialise_td_results ();
=THDOC
req_name "funrel" (Value "relation");
=DESCRIBE
The theory ``Ûfunrelİ'' contains the definitions of various functional (i.e. many-one) subsets of the set of relations.
=ENDDOC
=THDOC
req_infix(300,"ß");
req_const(Û"ß"İ,¬:'a ğ ­ 'b ğ ­ ('a ª 'b) ğ®);
req_defn(["ß"],
	([],¬µ (a : 'a ğ) (b : 'b ğ)· (a ß y) = a ª b ¡ Functional®));
req_const(Û"­"İ,¬:'a ğ ­ 'b ğ ­ ('a ª 'b) ğ®);
req_defn(["­"],
	([],¬µ (a : 'a ğ) (b : 'b ğ)·
		(a ­ b) = a ß b ¡ Total®));
req_infix(100,"ş");
req_const(Û"ş"İ,¬:'a ğ ­ 'b ğ ­ ('a ª 'b) ğ®);
req_defn(["ş"],
	([],¬µ (a : 'a ğ) (b : 'b ğ)·
		(a ş b) = a ß b ¡ Injective®));
req_infix(100,"à");
req_const(Û"à"İ,¬:'a ğ ­ 'b ğ ­ ('a ª 'b) ğ®);
req_defn(["à"],
	([],¬µ (a : 'a ğ) (b : 'b ğ)·
		(a à b) = a ş b ¡ a ­ b®));
req_infix(100,"Ï");
req_const(Û"Ï"İ,¬:'a ğ ­ 'b ğ ­ ('a ª 'b) ğ®);
req_defn(["Ï"],
	([],¬µ (a : 'a ğ) (b : 'b ğ)·
		(a Ï b) = a ß b ¡ Surjective®));
req_infix(100,"ï");
req_const(Û"ï"İ,¬:'a ğ ­ 'b ğ ­ ('a ª 'b) ğ®);
req_defn(["ï"],
	([],¬µ (a : 'a ğ) (b : 'b ğ)·
		(a ï b) = a Ï b ¡ a ­ b®));
req_infix(100,"");
req_const(Û""İ,¬:'a ğ ­ 'b ğ ­ ('a ª 'b) ğ®);
req_defn([""],
	([],¬µ (a : 'a ğ) (b : 'b ğ)·
		(a  b) = (a ï b) ¡ (a à b)®));
=DESCRIBE
See section 4.3 of \cite{spivey89}.
=ENDDOC
=THDOC
req_infix(600,"At");
req_const(Û"At"İ,¬:('a ª 'b) ­ 'a ­ 'b ®);
req_defn(["At"],
	([],¬	µ (f : ('a ª 'b)) (x : 'a)
		· ¶‰1 y · (x,y)  f ´ f At x = y
		®));
req_alias("@",¬$At®);
=DESCRIBE
=ENDDOC
\subsection{Signature of the theory ``funrel''}
=DOC
signature ÛFunRelTheoryİ = sig
	val Ûß_defİ : THM;
	val Û­_defİ : THM;
	val Ûş_defİ : THM;
	val Ûà_defİ : THM;
	val ÛÏ_defİ : THM;
	val Ûï_defİ : THM;
	val Û_defİ : THM;
	val Ûat_defİ : THM;
=DESCRIBE
This is the signature in which we declare theory ``funrel''.
=ENDDOC
\section{PROOF CONTEXTS}
=DOC
(* proof context key "Ûfunrel_extİ" *)
=DESCRIBE
$funrel\_ext$ extends $relation_ext$ by:
\begin{description}
\item [Name]\ 

Becomes ``funrel$\_$ext''.
\item [Stripping Goals and Theorems]\ 

Adding in ? applied at the top level or under a single negation.
\item [Rewriting Context]\ 

Adding in ?.
\end{description}
=ENDDOC
=DOC
(* proof context key Û"funrel_alg"İ *)
=DESCRIBE
$funrel\_alg$ extends $relation\_alg$ by:
\begin{description}
\item [Name]\ 

Becomes ``funrel$\_$alg''.
\item [Stripping Goals and Theorems]\ 

Adding in ? applied at the top level or under a single negation.
\item [Rewriting Context]\ 

Adding in ?.
\end{description}
=ENDDOC
=SML
end;(* of signature FunRelTheory *)
=TEX
\section{TEST POLICY}
Any functions given in this document should be tested according to the general criteria set out in \cite{DS/FMU/IED/PLN008}, using the tests in \cite{DS/FMU/IED/MDT072}.
In \cite{DS/FMU/IED/MDT072} the theory produced is checked by the theory design tools of \cite{DS/FMU/IED/DTD035}, against the theory design provided.

The module tests should include automatic proof of all the ``rules'' in \cite{Spivey89} expressible in this part of the theory of functional relations.
\twocolumn[\section{INDEX}]
\small
\printindex
\end{document}


