% dtd025.doc   %Z% $Date$ $Revision$ $RCSfile$

=TEX
% dtd025.doc   %Z% $Date$ $Revision$ $RCSfile$
\documentstyle[hol,11pt,TQ]{article}

\TPPtitle{Detailed Design of Pretty Printer}
\TPPref{DS/FMU/IED/DTD025}
\TPPissue{$Revision$%
}
\TPPdate{\FormatDate{$Date$%
}}
\TPPproject{FST PROJECT}

=IGN

Commands to process this document in various ways.

make -f rel001.mkf dtd025.dvi
doc4tex dtd025
tex4dvi dtd025
bibtex dtd025
doc4tex dtd025 ; tex4dvi dtd025
dvipage dtd025 &


doc4errors dtd025
usefile "dtd025.sml";

lasp -s dtd025.doc > zz1
lasp -s -u dtd025.OKwords dtd025.doc > zz1

=TEX
\TPPstatus{Draft}			%% Mandatory field
\TPPtype{Standard}
\TPPkeywords{HOL}
\TPPauthor{A.J. Hammon & WIN01}  %% Mandatory field
\TPPauthorisation{R.B.~Jones & FMU Manager}
\TPPabstract{This document contains the detailed design for
	the Release~1 ICL~HOL pretty printer.}
\TPPabstractB{This version of the document contains a HOL-specific
	pretty printer.  It has been produced to aid the production and
	testing of the rest of Release~1 ICL~HOL pending the production
	of the proper pretty printer.}
\TPPdistribution{\parbox[t]{4.0in}{%
	Library
}}

%\ftlinepenalty=9999
\makeindex

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\catcode`\_=\active
\def\_{\kern.06em\vbox{\hrule height.1ex width.3em}\hskip0.1em\relax}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}
\makeTPPfrontpage

\vfill
\begin{center}
\bf Copyright \copyright\ : International Computers Ltd \number\year
\end{center}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newpage
\section{DOCUMENT CONTROL}

%********************************************************************

\subsection{Contents List}
\tableofcontents
% \listoftables

%********************************************************************

\subsection{Document Cross References}

%\bibliographystyle{fmu}
%\bibliography{fmu}

%********************************************************************

\subsection{Changes History}

\begin{description}

\item[31 May 1991, issue 1.1 ] This issue is an authors draft.

\end{description}

%********************************************************************

\subsection{Changes Forecast} \label{ChangesForecast}

Replace with the proper pretty printer.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{GENERAL}

%********************************************************************

\subsection{Scope}

This document contains the a simple pretty printer for use during the
development of Release~1 of the ICL HOL system.  This pretty printer is
intended to be replaced with a fully functional pretty printer when it
becomes available.

%********************************************************************

\subsection{Introduction}

%--------------------------------------------------------------------

%\subsection{Purpose and Background}
%\subsection{Dependencies}
%\subsection{Interface}
%\subsection{Algorithms}
%\subsection{Possible Enhancements}

%--------------------------------------------------------------------

\subsection{Deficiencies}

HOL pairs are not handled, some special manipulation of these is
required to ensure that (1)~the comma is always protected by brackets;
and that (2)~pairs of pairs have unnecessary brackets removed.

%--------------------------------------------------------------------

%\subsection{Terminology}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newpage
\section{SIGNATURE} \label{StartSignature}

=DOC
signature âPrettyPrinterá = sig
=ENDDOC

%--------------------------------------------------------------------
=DOC
val âformat_termá : TERM -> string list;
=DESCRIBE
Produce a number of lines, one string per line, containing a pretty
printing of the given HOL Term.
=FAILURE
25001	Inconsistent fixity of constant ?0, expected ?2 but found ?1
=SEEALSO
Pretty printer controls.
=ENDDOC
%--------------------------------------------------------------------

%--------------------------------------------------------------------
=DOC
val âformat_typeá : TYPE -> string list;
=DESCRIBE
Produce a number of lines, one string per line, containing a pretty
printing of the given HOL type.
=FAILURE
25001	Inconsistent fixity of constant ?0, expected ?2 but found ?1
=SEEALSO
Pretty printer controls.
=ENDDOC
%--------------------------------------------------------------------

%--------------------------------------------------------------------
=DOC
val âformat_theoremá : THM -> string list;
=DESCRIBE
Produce a number of lines, one string per line, containing a pretty
printing of the given HOL Theorem.
=FAILURE
25001	Inconsistent fixity of constant ?0, expected ?2 but found ?1
=SEEALSO
Pretty printer controls.
=ENDDOC
%--------------------------------------------------------------------

%--------------------------------------------------------------------
=DOC
(* Flag âpp_fully_bracketedá : boolean control, default false *)
=DESCRIBE
Controls the bracket elimination algorithm in the pretty printer for
HOL types and terms.  When set to $true$ most brackets are included in
the output.  The default (namely $false$) is to eliminate brackets in
many places.  Note, the bracket elimination algorithm intentionally
leaves in some brackets.
=ENDDOC
%--------------------------------------------------------------------

%--------------------------------------------------------------------
=DOC
(* Flag âpp_show_typesá : boolean control, default false *)
=DESCRIBE
Controls whether HOL types are shown.  The default (namely $false$) is to
show the types of all variables and constants.
=ENDDOC
%--------------------------------------------------------------------

=DOC
end (* of signature PrettyPrinter *);
=ENDDOC

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%********************************************************************
%--------------------------------------------------------------------

\makeatletter
\def\refstepcounter#1{\stepcounter{#1}\global\edef\@currentlabel{\csname
	p@#1\endcsname\csname the#1\endcsname}}
\makeatother

%\twocolumn[\section{INDEX}] \label{Index}
\section{INDEX}

\footnotesize
\printindex

\onecolumn

\end{document}
