=TEX
\documentstyle[hol,11pt,TQ]{article}
\ftlinepenalty=9999
\makeindex
\TPPproject{IED 1563}  %% Mandatory field
%\TPPvolume{}
%\TPPpart{}
\TPPtitle{Module Tests for the Derived Rules of Inference}  %% Mandatory field
\def\TPPheadtitle{Module Tests for the erived Rules of Inference}
\TPPref{DS/FMU/IED/MDT007}  %% Mandatory field
\def\SCCSversion{$Revision$ %
}
\TPPissue{\SCCSversion}  %% Mandatory field
\TPPdate{\FormatDate{$Date$ %
}}
\TPPstatus{Draft}			%% Mandatory field
\TPPtype{ML Literate Script}
\TPPkeywords{}
%\TPPauthor{K.Blackburn & WIN01}  %% Mandatory field
\TPPauthors{K.Blackburn & WIN01\\D.J.~King & WIN01}
\TPPauthorisation{R.D.Arthan & Project Manager}
\TPPabstract{A set of module tests are given for the 
the abstract data type $THM$.}
\TPPdistribution{\parbox[t]{4.0in}{%
	    Library
}}
\begin{document}
\makeTPPfrontpage
\vfill
\begin{centering}
\bf Copyright \copyright\ : International Computers Ltd \number\year
\end{centering}
\pagebreak
\section{Document control}
\subsection{Contents list}
\tableofcontents
\subsection{Document cross references}
\bibliographystyle{fmu}
\bibliography{fmu}

\subsection{Changes history} 
\begin{description}
\item [Issue 1.1]
First draft version.
Primitive and built-in inference rules, and conversionals
all module tested.
\item [Issue 1.2]
Corrected test ``simple$\_$abs$\_$rule 6025'',
removed printing utilities (as unused),
and changed test theory names used.
\end{description}
\subsection{Changes forecast}
\section{GENERAL}
\subsection{Scope}
This document contains the module testing of the Derived Rules of Inference, required by ???.
The design is in \cite{DS/FMU/IED/DTD007}
and it is
implemented in \cite{DS/FMU/IED/IMP007}.

\subsection{Introduction}
\subsubsection{Purpose and Background}
This document contains the module testing of the material given a design in \cite{DS/FMU/IED/DTD007},
following the test policy given in that document and the general policy given in \cite{DS/FMU/IED/PLN008}.

\subsubsection{Dependencies}
This document is derived from the detailed design in \cite{DS/FMU/IED/DTD007},
and is further influenced by the implementation, in  \cite{DS/FMU/IED/IMP007}.
\subsubsection{Deficiencies}
The coverage of the tests, as called for by the test specification, may currently be incomplete.
\section{INITIALISATION}
Get a new theory to work in:
=SML
val start_theory = get_current_theory_name();
new_theory "test_mdt007";
=TEX
Initialise the test package:
=SML
usefile "dtd013.sml";
usefile "imp013.sml";
init_mt_results();
=TEX
\section{VALUE BINDINGS}
=SML
val v1 = mk_var("v1", BOOL);
val v2 = mk_var("v2", BOOL);
val tv1 = mk_vartype "'1";
val tv2 = mk_vartype "'2";
val tva = mk_vartype "'a";
val N0 = mk_† 0;
val N1 = mk_† 1;
val N2 = mk_† 2;
=TEX
Test scopes:
=SML
val Deleted = new_const ("Deleted",BOOL);
val const_deleted_thm = asm_rule »p = q¼;
val ignore_warnings = set_flag("ignore_warnings",true); 
val side_effect = delete_constant Deleted;
val side_effect = set_flag("ignore_warnings",ignore_warnings); 
val side_effect = new_theory "out_of_scope_mdt007";
val out_of_scope_thm = asm_rule »p = q¼;
val side_effect = open_theory "test_mdt007";
val side_effect = new_theory "deleted_theory_mdt007";
val del_theory_index = (string_of_int (icl'Kernel.icl'get_current_theory_name()));

val deleted_thm = asm_rule »p = q¼;
val side_effect = open_theory "test_mdt007";
val side_effect = delete_theory "deleted_theory_mdt007";

val p_eq_q_thm = asm_rule »p = q¼;
val pq_thm = asm_rule »„ p Ž q¼;
val pq_ax = new_axiom("pq_ax", »„ p Ž q¼);
val t_eq_f = asm_rule »T = F¼;
val q_eq_F = new_axiom("q_eq_F",»q = F¼);
val T = »T¼;
val F = »F¼;
val so_isso_axiom = new_axiom("so_isso_axiom", »„ So IsSo Ž So Š IsSo¼);
val so_isso_def = new_specification(["So","IsSo"],2,so_isso_axiom);
val so_axiom = new_axiom("so_axiom",»So¼);
val † = new_type("†",0) handle _ => †;
val tDiv = mk_const("Div",mk_fun(†,mk_fun(†,†)));
val tMod = mk_const("Mod",mk_fun(†,mk_fun(†,†)));
val Suc = new_const("Suc",mk_fun(†, †))
	handle _ => mk_const("Suc",mk_fun(†, †));

val strip_€_T_conv: CONV = ( fn (tm : TERM) =>
	if is_€ tm
	then let val (p,q) = dest_€ tm
		in
		if q = T
		then asm_rule(mk_eq (tm, p))
		else fail_with_conv "strip_€_T_conv" tm
	end
	else fail_with_conv "strip_€_T_conv" tm
);

val sample = »( f x y Ž (f x € y) € ( p Ž p) q)( x Ž Œ x) T (( p Ž p) q)¼;
=TEX
\section{THE TESTS}
The tests proper:
\subsection{subst\_rule}
=SML
store_mt_results mt_run_fail[
	("subst_rule 6001 1",
	subst_rule [] »„ p Ž q1¼,
	pq_thm,
	gen_fail_msg "subst_rule" 6001 []),
	("subst_rule 6001 2",
	subst_rule [(t_eq_f, »q:BOOL¼)] »T = q¼,
	t_eq_f,
	gen_fail_msg "subst_rule" 6001 []),
	("subst_rule 6036 1",
	subst_rule [] »„ p Ž q¼,
	deleted_thm,
	gen_fail_msg "subst_rule" 6036 ["deleted_theory_mdt007",del_theory_index]),
	("subst_rule 6065 1",
	subst_rule [] »„ p Ž q¼,
	const_deleted_thm,
	gen_fail_msg "subst_rule" 6065 ["test_mdt007"]),
	("subst_rule 6066 1",
	subst_rule [] »„ p Ž q¼,
	out_of_scope_thm,
	gen_fail_msg "subst_rule" 6066 ["out_of_scope_mdt007"]),
	("subst_rule 6036 2",
	subst_rule [(deleted_thm,»q :'a¼)] »T = F¼,
	t_eq_f,
	gen_fail_msg "subst_rule" 6036 ["deleted_theory_mdt007",del_theory_index]),
	("subst_rule 6065 2",
	subst_rule [(const_deleted_thm,»q :'a¼)] »T = F¼,
	t_eq_f,
	gen_fail_msg "subst_rule" 6065 ["test_mdt007"]),
	("subst_rule 6066 2",
	subst_rule [(out_of_scope_thm,»q :'a¼)] »T = F¼,
	t_eq_f,
	gen_fail_msg "subst_rule" 6066 ["out_of_scope_mdt007"])
	];

store_mt_results mt_run_fail [
	("subst_rule 6002",
	subst_rule,
	[(asm_rule T, »p:BOOL¼)],
	gen_fail_msg "subst_rule" 6002 []),
	("subst_rule 6003",
	subst_rule,
	[(t_def, »T¼)],
	gen_fail_msg "subst_rule" 6003 []),
	("subst_rule 6029",
	subst_rule,
	[(t_def, »q : †¼)],
	gen_fail_msg "subst_rule" 6029 ["q"])
	];

store_mt_results mt_run [("subst_rule_1",
	dest_thm o subst_rule [] »„ p Ž q¼,
	pq_thm,
	dest_thm pq_thm),
	("subst_rule_2",
	dest_thm o subst_rule [] »„ p1 Ž q¼,
	pq_thm,
	([»„ p Ž q¼],»„ p1 Ž q¼)),
	("subst_rule_3",
	dest_thm o subst_rule [(t_eq_f, »q : BOOL¼)] »q = F¼,
	t_eq_f,
	([»T = F¼],»F = F¼)),
	("subst_rule_4",
	dest_thm o subst_rule [(t_def, »q : BOOL¼)] »q = F¼,
	t_eq_f,
	([»T = F¼],»(( x:BOOLŽx)=( x Žx)) = F¼))];

=TEX
\subsection{simple\_abs\_rule}
=SML
store_mt_results mt_run [("simple_abs_rule",
	dest_thm o simple_abs_rule »q : BOOL¼,
	q_eq_F,
	([],»( q:BOOL Ž q) = ( q Ž F)¼))
	];

store_mt_results mt_run_fail[
	("simple_abs_rule 6004",
	simple_abs_rule T,
	q_eq_F,
	gen_fail_msg "simple_abs_rule" 6004 []),
	("simple_abs_rule 6005",
	simple_abs_rule »q : BOOL¼,
	asm_rule »q = F¼,
	gen_fail_msg "simple_abs_rule" 6005 ["q"]),
	("simple_abs_rule 6025",
	simple_abs_rule »q : BOOL¼,
	pq_ax,
	gen_fail_msg "simple_abs_rule" 6025 []),
	("simple_abs_rule 6036",
	simple_abs_rule »q : BOOL¼,
	deleted_thm,
	gen_fail_msg "simple_abs_rule" 6036 ["deleted_theory_mdt007",del_theory_index]),
	("simple_abs_rule 6065",
	simple_abs_rule »q : BOOL¼,
	const_deleted_thm,
	gen_fail_msg "simple_abs_rule" 6065 ["test_mdt007"]),
	("simple_abs_rule 6066",
	simple_abs_rule »q : BOOL¼,
	out_of_scope_thm,
	gen_fail_msg "simple_abs_rule" 6066 ["out_of_scope_mdt007"])
	];
=TEX
\subsection{inst\_type\_rule}
So far unconverted tests:
=SML
store_mt_results mt_run [("inst_type_rule_1",
	dest_thm o inst_type_rule [(BOOL, tva)],
	pq_ax,
	([],»„ p : BOOL Ž q¼)),
	("inst_type_rule_2",
	dest_thm o inst_type_rule [(BOOL, tv1)],
	pq_ax,
	([],»„ p : 'a Ž q¼))
	];

store_mt_results mt_run_fail [
	("inst_type_rule 6006",
	inst_type_rule [(BOOL, tva)],
	(asm_rule »v = v¼),
	gen_fail_msg "inst_type_rule" 6006 ["'a"]),
	("inst_type_rule 6007",
	inst_type_rule [(BOOL, BOOL)],
	pq_ax,
	gen_fail_msg "inst_type_rule" 6007 []),
	("inst_type_rule 6036",
	inst_type_rule [(BOOL, tva)],
	deleted_thm,
	gen_fail_msg "inst_type_rule" 6036 ["deleted_theory_mdt007",del_theory_index]),
	("inst_type_rule 6065",
	inst_type_rule [(BOOL, tva)],
	const_deleted_thm,
	gen_fail_msg "inst_type_rule" 6065 ["test_mdt007"]),
	("inst_type_rule 6066",
	inst_type_rule [(BOOL, tva)],
	out_of_scope_thm,
	gen_fail_msg "inst_type_rule" 6066 ["out_of_scope_mdt007"])
];
=TEX
\subsection{Š\_intro}
=SML
store_mt_results mt_run [
	("Š_intro_1",
	dest_thm o Š_intro v1,
	pq_ax,
	([],»v1 Š „ p Ž q¼)),
	("Š_intro_1",
	dest_thm o Š_intro v1,
	asm_rule v1,
	([],»v1 Š v1¼))
	];

store_mt_results mt_run_fail [
	("Š_intro 6009",
	Š_intro N1,
	pq_ax,
	gen_fail_msg "Š_intro" 6009 []),
	("Š_intro 6036",
	Š_intro v1,
	deleted_thm,
	gen_fail_msg "Š_intro" 6036 ["deleted_theory_mdt007",del_theory_index]),
	("Š_intro 6065",
	Š_intro v1,
	const_deleted_thm,
	gen_fail_msg "Š_intro" 6065 ["test_mdt007"]),
	("Š_intro 6066",
	Š_intro v1,
	out_of_scope_thm,
	gen_fail_msg "Š_intro" 6066 ["out_of_scope_mdt007"])
	];
=TEX
\subsection{Š\_elim}
=SML
store_mt_results mt_run [("Š_elim_1",
	dest_thm o Š_elim  so_isso_def,
	so_axiom,
	([],»IsSo¼))
	];

store_mt_results mt_run_fail [
	("Š_elim 6010",
	Š_elim so_isso_axiom,
	so_axiom,
	gen_fail_msg "Š_elim" 6010 []),
	("Š_elim 6011",
	Š_elim so_isso_def,
	so_isso_def,
	gen_fail_msg "Š_elim" 6011 []),
	("Š_elim 6036 1",
	Š_elim so_isso_def,
	deleted_thm,
	gen_fail_msg "Š_elim" 6036 ["deleted_theory_mdt007",del_theory_index]),
	("Š_elim 6065 1",
	Š_elim so_isso_def,
	const_deleted_thm,
	gen_fail_msg "Š_elim" 6065 ["test_mdt007"]),
	("Š_elim 6066 1",
	Š_elim so_isso_def,
	out_of_scope_thm,
	gen_fail_msg "Š_elim" 6066 ["out_of_scope_mdt007"]),
	("Š_elim 6036 2",
	Š_elim deleted_thm,
	so_axiom,
	gen_fail_msg "Š_elim" 6036 ["deleted_theory_mdt007",del_theory_index]),
	("Š_elim 6065 2",
	Š_elim const_deleted_thm,
	so_axiom,
	gen_fail_msg "Š_elim" 6065 ["test_mdt007"]),
	("Š_elim 6066 2",
	Š_elim out_of_scope_thm,
	so_axiom,
	gen_fail_msg "Š_elim" 6066 ["out_of_scope_mdt007"])
	];
=TEX
\subsection{asm\_rule}
=SML
store_mt_results mt_run [
	("asm_rule 1",
	dest_thm o asm_rule,
	mk_const("rubbish",BOOL),
	([mk_const("rubbish",BOOL)],mk_const("rubbish",BOOL)))
	];

store_mt_results mt_run_fail [
	("asm_rule 6009",
	asm_rule,
	N0,
	gen_fail_msg "asm_rule" 6009 [])
	];
=TEX
\subsection{refl\_conv}
=SML
store_mt_results mt_run [
	("refl_conv 1",
	dest_thm o refl_conv,
	mk_const("rubbish",BOOL),
	([],mk_eq(mk_const("rubbish",BOOL), mk_const("rubbish",BOOL)))),
	("refl_conv 2",
	dest_thm o refl_conv,
	mk_const("rubbish",†),
	([],mk_eq(mk_const("rubbish",†), mk_const("rubbish",†))))
	];
=TEX
\subsection{simple\_$\beta$\_conv}
=SML
store_mt_results mt_run [
	("simple_%beta%_conv 1",
	dest_thm o simple_%beta%_conv,
	»( p : 'a Ž f p) q¼,
	([],»(( p : 'a Ž f p) q) = f q¼)),
	("simple_%beta%_conv 2",
	dest_thm o simple_%beta%_conv,
	»( p q: '1 Ž f p q) q¼,
	([],»(( p q: '1 Ž f p q) q) = ( q': '1 Ž f q q')¼))
	];

store_mt_results mt_run_fail [
	("simple_%beta%_conv 6012",
	simple_%beta%_conv,
	»( p q: '1 Ž f p q)¼,
	gen_fail_msg "simple_%beta%_conv" 6012 [])
	];
=TEX
\subsection{suc\_conv}
=SML
store_mt_results mt_run [
	("suc_conv 1",
	dest_thm o suc_conv,
	»3¼,
	([],»3 = Suc 2¼))
	];

store_mt_results mt_run_fail [
	("suc_conv 6013",
	suc_conv,
	mk_const("Number",†),
	gen_fail_msg "suc_conv" 6013 []),
	("suc_conv 7100",
	suc_conv,
	»0¼,
	gen_fail_msg "suc_conv" 7100 [])
	];
=TEX
\subsection{string\_conv}
=SML
store_mt_results mt_run [
	("string_conv_1",
	dest_thm o string_conv,
	»"abc"¼,
	([],»"abc" = »%down%SML mk_const("Cons",
		mk_fun(CHAR,mk_fun(STRING,STRING)))¼ 
		»%down%SML mk_char "a"¼ "bc"¼)),
	("string_conv_2",
	dest_thm o string_conv,
	»""¼,
	([],»"" = »%down%SML mk_const("Nil",STRING)¼¼))
	];

store_mt_results mt_run_fail [
	("string_conv 6014",
	string_conv,
	»0¼,
	gen_fail_msg "string_conv" 6014 [])
	];
=TEX
\subsection{char\_conv}
=SML
store_mt_results mt_run [
	("char_conv_1",
	dest_thm o char_conv,
	»'a¼,
	([],»'a = »%down%SML mk_const("AbsChar",mk_fun(†,CHAR))¼ 97¼)),
	("char_conv_2",
	dest_thm o char_conv,
	mk_char "†",
	([],»»%down%SML mk_char "†"¼ = 
		»%down%SML mk_const("AbsChar",mk_fun(†,CHAR))¼ 134¼))
	];

store_mt_results mt_run_fail [
	("char_conv 6015",
	char_conv,
	mk_const("he",CHAR),
	gen_fail_msg "char_conv" 6015 [])
	];

=TEX
\subsection{eq\_sym\_rule}
=SML
store_mt_results mt_run[
	("eq_sym_rule_1",
	dest_thm o eq_sym_rule,
	asm_rule»0=1¼,
	([»0=1¼],»1=0¼)),
	("eq_sym_rule_2",
	dest_thm o eq_sym_rule,
	asm_rule»T=F¼,
	([»T=F¼],»F=T¼))
	];

store_mt_results mt_run_fail[
	("eq_sym_rule 6025",
	eq_sym_rule,
	pq_ax,
	gen_fail_msg "eq_sym_rule" 6025 []),
	("eq_sym_rule 6036",
	eq_sym_rule,
	deleted_thm,
	gen_fail_msg "eq_sym_rule" 6036 ["deleted_theory_mdt007",del_theory_index]),
	("eq_sym_rule 6065",
	eq_sym_rule,
	const_deleted_thm,
	gen_fail_msg "eq_sym_rule" 6065 ["test_mdt007"]),
	("eq_sym_rule 6066",
	eq_sym_rule,
	out_of_scope_thm,
	gen_fail_msg "eq_sym_rule" 6066 ["out_of_scope_mdt007"])
	];
=TEX
\subsection{simple\_list\_ƒ\_elim}
=SML
store_mt_results mt_run[
	("simple_list_ƒ_elim_1",
	dest_thm o simple_list_ƒ_elim [F],
	asm_rule »ƒ v1 Ž v1 Š T¼,
	([»ƒ v1 Ž v1 Š T¼],»F Š T¼)),
	("simple_list_ƒ_elim_2",
	dest_thm o simple_list_ƒ_elim [»v2 : BOOL¼],
	asm_rule»ƒ v1 Ž ( v2: BOOL Ž v1) T¼,
	([»ƒ v1 Ž ( v2: BOOL Ž v1) T¼],»( v2': BOOL Ž v2) T : BOOL¼)),
	("simple_list_ƒ_elim_3",
	dest_thm o simple_list_ƒ_elim [»v2 : BOOL¼,»v2 : BOOL¼],
	asm_rule»ƒ v1 v2 Ž v1 € v2¼,
	([»ƒ v1 v2 Ž v1 € v2¼],»v2 € v2¼)),
	("simple_list_ƒ_elim_4",
	dest_thm o simple_list_ƒ_elim [»v1 : BOOL¼,»v1 : BOOL¼],
	asm_rule»ƒ v1 v2 Ž v1 € v2¼,
	([»ƒ v1 v2 Ž v1 € v2¼],»v1 € v1¼))
	];

store_mt_results mt_run_fail[
	("simple_list_ƒ_elim 6018",
	simple_list_ƒ_elim [T],
	pq_ax,
	gen_fail_msg "simple_list_ƒ_elim" 6018 ["1"]),
	("simple_list_ƒ_elim 6019",
	simple_list_ƒ_elim [N0],
	asm_rule»ƒ v1 Ž v1 Š T¼,
	gen_fail_msg "simple_list_ƒ_elim" 6019 ["v1 "]),
	("simple_list_ƒ_elim 6036",
	simple_list_ƒ_elim [v1],
	deleted_thm,
	gen_fail_msg "simple_list_ƒ_elim" 6036 ["deleted_theory_mdt007",del_theory_index]),
	("simple_list_ƒ_elim 6065",
	simple_list_ƒ_elim [v1],
	const_deleted_thm,
	gen_fail_msg "simple_list_ƒ_elim" 6065 ["test_mdt007"]),
	("simple_list_ƒ_elim 6066",
	simple_list_ƒ_elim [v1],
	out_of_scope_thm,
	gen_fail_msg "simple_list_ƒ_elim" 6066 ["out_of_scope_mdt007"])
	];
=TEX
\subsection{simple\_ƒ\_elim}
=SML
store_mt_results mt_run[
	("simple_ƒ_elim_1",
	dest_thm o simple_ƒ_elim F,
	asm_rule »ƒ v1 Ž v1 Š T¼,
	([»ƒ v1 Ž v1 Š T¼],»F Š T¼)),
	("simple_ƒ_elim_2",
	dest_thm o simple_ƒ_elim »v2 : BOOL¼,
	asm_rule»ƒ v1 Ž ( v2: BOOL Ž v1) T¼,
	([»ƒ v1 Ž ( v2: BOOL Ž v1) T¼],»( v2': BOOL Ž v2) T : BOOL¼))
	];

store_mt_results mt_run_fail[
	("simple_ƒ_elim 7039",
	simple_ƒ_elim T,
	pq_ax,
	gen_fail_msg "simple_ƒ_elim" 7039 []),
	("simple_ƒ_elim 7046",
	simple_ƒ_elim N0,
	asm_rule»ƒ v1 Ž v1 Š T¼,
	gen_fail_msg "simple_ƒ_elim" 7046 ["v1"]),
	("simple_ƒ_elim 6036",
	simple_ƒ_elim v1,
	deleted_thm,
	gen_fail_msg "simple_ƒ_elim" 6036 ["deleted_theory_mdt007",del_theory_index]),
	("simple_ƒ_elim 6065",
	simple_ƒ_elim v1,
	const_deleted_thm,
	gen_fail_msg "simple_ƒ_elim" 6065 ["test_mdt007"]),
	("simple_ƒ_elim 6066",
	simple_ƒ_elim v1,
	out_of_scope_thm,
	gen_fail_msg "simple_ƒ_elim" 6066 ["out_of_scope_mdt007"])
	];
=TEX
\subsection{eq\_trans\_rule}
=SML
store_mt_results mt_run[
	("eq_trans_rule_1",
	dest_thm o eq_trans_rule (asm_rule »0=1¼),
	asm_rule »1 = 2¼,
	([»0=1¼, »1 = 2¼],»0 = 2¼))
	];

store_mt_results mt_run_fail[
	("eq_trans_rule 6020",
	eq_trans_rule pq_ax,
	asm_rule»1=2¼,
	gen_fail_msg "eq_trans_rule" 6020 []),
	("eq_trans_rule 6021",
	eq_trans_rule (asm_rule»1=2¼),
	pq_ax,
	gen_fail_msg "eq_trans_rule" 6021 []),
	("eq_trans_rule 6022 a",
	eq_trans_rule (asm_rule »0=1¼),
	p_eq_q_thm,
	gen_fail_msg "eq_trans_rule" 6022 []),
	("eq_trans_rule 6022 b",
	eq_trans_rule (asm_rule »0=1¼),
	asm_rule »0 = 2¼,
	gen_fail_msg "eq_trans_rule" 6022 []),
	("eq_trans_rule 6036 a",
	eq_trans_rule so_isso_axiom,
	deleted_thm,
	gen_fail_msg "eq_trans_rule" 6036 ["deleted_theory_mdt007",del_theory_index]),
	("eq_trans_rule 6065 a",
	eq_trans_rule so_isso_axiom,
	const_deleted_thm,
	gen_fail_msg "eq_trans_rule" 6065 ["test_mdt007"]),
	("eq_trans_rule 6066 a",
	eq_trans_rule so_isso_axiom,
	out_of_scope_thm,
	gen_fail_msg "eq_trans_rule" 6066 ["out_of_scope_mdt007"]),
	("eq_trans_rule 6036 b",
	eq_trans_rule deleted_thm,
	so_isso_axiom,
	gen_fail_msg "eq_trans_rule" 6036 ["deleted_theory_mdt007",del_theory_index]),
	("eq_trans_rule 6065 b",
	eq_trans_rule const_deleted_thm,
	so_isso_axiom,
	gen_fail_msg "eq_trans_rule" 6065 ["test_mdt007"]),
	("eq_trans_rule 6066 b",
	eq_trans_rule out_of_scope_thm,
	so_isso_axiom,
	gen_fail_msg "eq_trans_rule" 6066 ["out_of_scope_mdt007"])
	];
=TEX
\subsection{mk\_comb\_rule}
=SML
store_mt_results mt_run[
	("mk_comb_rule_1",
	dest_thm o mk_comb_rule (asm_rule»(f : † ‹ †) = g¼),
	asm_rule »1 = 2¼,
	([»(f : † ‹ †) = g¼,»1 = 2¼],»(f 1 : †) = g 2¼))
	];

store_mt_results mt_run_fail[
	("mk_comb_rule 6020",
	mk_comb_rule pq_ax,
	asm_rule »1 = 2¼,
	gen_fail_msg "mk_comb_rule" 6020 []),
	("mk_comb_rule 6021",
	mk_comb_rule (asm_rule »1=2¼),
	pq_ax,
	gen_fail_msg "mk_comb_rule" 6021 []),
	("mk_comb_rule 6023 a",
	mk_comb_rule (refl_conv T ),
	(asm_rule »1=2¼),
	gen_fail_msg "mk_comb_rule" 6023 []),
	("mk_comb_rule 6023 b",
	mk_comb_rule (asm_rule »0=1¼),
	(asm_rule »1=2¼),
	gen_fail_msg "mk_comb_rule" 6023 []),
	("mk_comb_rule 6036 a",
	mk_comb_rule so_isso_axiom,
	deleted_thm,
	gen_fail_msg "mk_comb_rule" 6036 ["deleted_theory_mdt007",del_theory_index]),
	("mk_comb_rule 6065 a",
	mk_comb_rule so_isso_axiom,
	const_deleted_thm,
	gen_fail_msg "mk_comb_rule" 6065 ["test_mdt007"]),
	("mk_comb_rule 6066 a",
	mk_comb_rule so_isso_axiom,
	out_of_scope_thm,
	gen_fail_msg "mk_comb_rule" 6066 ["out_of_scope_mdt007"]),
	("mk_comb_rule 6036 b",
	mk_comb_rule deleted_thm,
	so_isso_axiom,
	gen_fail_msg "mk_comb_rule" 6036 ["deleted_theory_mdt007",del_theory_index]),
	("mk_comb_rule 6065 b",
	mk_comb_rule const_deleted_thm,
	so_isso_axiom,
	gen_fail_msg "mk_comb_rule" 6065 ["test_mdt007"]),
	("mk_comb_rule 6066 b",
	mk_comb_rule out_of_scope_thm,
	so_isso_axiom,
	gen_fail_msg "mk_comb_rule" 6066 ["out_of_scope_mdt007"])
	];
=TEX
\subsection{‚\_mp\_rule}
=SML
store_mt_results mt_run[
	("‚_mp_rule_1",
	dest_thm o ‚_mp_rule t_eq_f,
	asm_rule »T¼,
	([»T = F¼,»T¼],»F¼))
	];

store_mt_results mt_run_fail[
	("‚_mp_rule 6024",
	‚_mp_rule t_eq_f,
	(asm_rule »F¼),
	gen_fail_msg "‚_mp_rule" 6024 []),
	("‚_mp_rule 6030",
	‚_mp_rule (asm_rule »T¼),
	t_eq_f,
	gen_fail_msg "‚_mp_rule" 6030 []),
	("‚_mp_rule 6036 a",
	‚_mp_rule so_isso_axiom,
	deleted_thm,
	gen_fail_msg "‚_mp_rule" 6036 ["deleted_theory_mdt007",del_theory_index]),
	("‚_mp_rule 6065 a",
	‚_mp_rule so_isso_axiom,
	const_deleted_thm,
	gen_fail_msg "‚_mp_rule" 6065 ["test_mdt007"]),
	("‚_mp_rule 6066 a",
	‚_mp_rule so_isso_axiom,
	out_of_scope_thm,
	gen_fail_msg "‚_mp_rule" 6066 ["out_of_scope_mdt007"]),
	("‚_mp_rule 6036 b",
	‚_mp_rule deleted_thm,
	so_isso_axiom,
	gen_fail_msg "‚_mp_rule" 6036 ["deleted_theory_mdt007",del_theory_index]),
	("‚_mp_rule 6065 b",
	‚_mp_rule const_deleted_thm,
	so_isso_axiom,
	gen_fail_msg "‚_mp_rule" 6065 ["test_mdt007"]),
	("‚_mp_rule 6066 b",
	‚_mp_rule out_of_scope_thm,
	so_isso_axiom,
	gen_fail_msg "‚_mp_rule" 6066 ["out_of_scope_mdt007"])
	];

=TEX
\subsection{simple\_ƒ\_intro}
=SML
store_mt_results mt_run[
	("simple_ƒ_intro_1",
	dest_thm o simple_ƒ_intro v1,
	t_eq_f,
	([»T = F¼],»ƒ v1 : BOOL Ž T = F¼)),
	("simple_ƒ_intro_1",
	dest_thm o simple_ƒ_intro »q : BOOL¼,
	pq_ax,
	([],»ƒ q : BOOL Ž „ p : 'a Ž q¼))
	];

store_mt_results mt_run_fail[
	("simple_ƒ_intro 6004",
	simple_ƒ_intro T,
	t_eq_f,
	gen_fail_msg "simple_ƒ_intro" 6004 []),
	("simple_ƒ_intro 6005",
	simple_ƒ_intro v1,
	(asm_rule v1),
	gen_fail_msg "simple_ƒ_intro" 6005 ["v1"]),
	("simple_ƒ_intro 6036",
	simple_ƒ_intro v1,
	deleted_thm,
	gen_fail_msg "simple_ƒ_intro" 6036 ["deleted_theory_mdt007",del_theory_index]),
	("simple_ƒ_intro 6065",
	simple_ƒ_intro v1,
	const_deleted_thm,
	gen_fail_msg "simple_ƒ_intro" 6065 ["test_mdt007"]),
	("simple_ƒ_intro 6066",
	simple_ƒ_intro v1,
	out_of_scope_thm,
	gen_fail_msg "simple_ƒ_intro" 6066 ["out_of_scope_mdt007"])	];

=TEX
\subsection{inst\_term\_rule}
=SML
store_mt_results mt_run[
	("inst_term_rule_1",
	dest_thm o inst_term_rule [(T,v1),(F,v2)],
	simple_ƒ_elim v2 
		(simple_ƒ_elim v1 (
		(asm_rule »ƒ v1 v2 : BOOL Ž v1 = v2¼))),
	([»ƒ v1 v2 : BOOL Ž v1 = v2¼],»T = F¼)),
	("inst_term_rule_2",
	dest_thm o inst_term_rule [(v2,v1),(v1,v2)],
	simple_ƒ_elim v2 
		(simple_ƒ_elim v1 (
		(asm_rule »ƒ v1 v2 : BOOL Ž v1 = v2¼))),
	([»ƒ v1 v2 : BOOL Ž v1 = v2¼],»(v2:BOOL) = v1¼)),
	("inst_term_rule_3",
	dest_thm o inst_term_rule [],
	simple_ƒ_elim v2 
		(simple_ƒ_elim v1 (
		(asm_rule »ƒ v1 v2 : BOOL Ž v1 = v2¼))),
	([»ƒ v1 v2 : BOOL Ž v1 = v2¼],»(v1:BOOL) = v2¼))
	];

store_mt_results mt_run_fail[
	("inst_term_rule 6026",
	inst_term_rule [(v2,T)],
	(asm_rule v1),
	gen_fail_msg "inst_term_rule" 6026 []),
	("inst_term_rule 6027",
	inst_term_rule [(N0,v1)],
	(asm_rule v1),
	gen_fail_msg "inst_term_rule" 6027 ["v1"]),
	("inst_term_rule 6028",
	inst_term_rule [(v2,v1)],
	(asm_rule v1),
	gen_fail_msg "inst_term_rule" 6028 ["v1"]),
	("inst_term_rule 6036",
	inst_term_rule [],
	deleted_thm,
	gen_fail_msg "inst_term_rule" 6036 ["deleted_theory_mdt007",del_theory_index]),
	("inst_term_rule 6065",
	inst_term_rule [],
	const_deleted_thm,
	gen_fail_msg "inst_term_rule" 6065 ["test_mdt007"]),
	("inst_term_rule 6066",
	inst_term_rule [],
	out_of_scope_thm,
	gen_fail_msg "inst_term_rule" 6066 ["out_of_scope_mdt007"])	];
=TEX
\subsection{div2\_conv}
=SML
store_mt_results mt_run [
	("div2_conv 1",
	dest_thm o div2_conv,
	list_mk_comb(tDiv,[»7¼,»2¼]),
	([],mk_eq(list_mk_comb(tDiv,[»7¼,»2¼]),»3¼))),
	("div2_conv 2",
	dest_thm o div2_conv,
	list_mk_comb(tDiv,[»0¼,»2¼]),
	([],mk_eq(list_mk_comb(tDiv,[»0¼,»2¼]),»0¼)))
	];

store_mt_results mt_run_fail [
	("div2_conv 6085 a",
	div2_conv,
	list_mk_comb(tDiv,[N0,N1]),
	gen_fail_msg "div2_conv" 6085 []),
	("div2_conv 6085 b",
	div2_conv,
	list_mk_comb(tDiv,[»n : †¼,N2]),
	gen_fail_msg "div2_conv" 6085 [])
	];
=TEX
\subsection{mod2\_conv}
=SML
store_mt_results mt_run [
	("mod2_conv 1",
	dest_thm o mod2_conv,
	list_mk_comb(tMod,[»7¼,»2¼]),
	([],mk_eq(list_mk_comb(tMod,[»7¼,»2¼]),»1¼))),
	("mod2_conv 2",
	dest_thm o mod2_conv,
	list_mk_comb(tMod,[»0¼,»2¼]),
	([],mk_eq(list_mk_comb(tMod,[»0¼,»2¼]),»0¼)))
	];

store_mt_results mt_run_fail [
	("mod2_conv 6086 a",
	mod2_conv,
	list_mk_comb(tMod,[N0,N1]),
	gen_fail_msg "mod2_conv" 6086 []),
	("mod2_conv 6086 b",
	mod2_conv,
	list_mk_comb(tMod,[»n : †¼,N2]),
	gen_fail_msg "mod2_conv" 6086 [])
	];
=TEX
\section{DERIVED INFERENCE RULES}
We will from now on assume that out of scope or invalid
theorems will have been properly handled, by being
caught by the interfaces to the primitive and built-in inference rules.
\subsection{ap\_fun\_rule}
=SML
store_mt_results mt_run [
	("ap_fun_rule",
	dest_thm o ap_fun_rule »f : † ‹ †¼,
	asm_rule » 0 = 1 ¼,
	([» 0 = 1 ¼], » (f 0 : †) = f 1 ¼))
	];

store_mt_results mt_run_fail [
	("ap_fun_rule 7023",
	ap_fun_rule  »f : † ‹ †¼,
	pq_ax,
	gen_fail_msg "ap_fun_rule" 7023 []),
	("ap_fun_rule 7024",
	ap_fun_rule  »f : † ‹ †¼,
	t_eq_f,
	gen_fail_msg "ap_fun_rule" 7024 [])
	];

=TEX
\subsection{ap\_arg\_rule}
=SML
store_mt_results mt_run [
	("ap_arg_rule",
	dest_thm o ap_arg_rule »2¼,
	asm_rule » (f : † ‹ †)  = g¼,
	([» (f : † ‹ †)  = g¼], » (f 2 : †) = g 2 ¼))
	];

store_mt_results mt_run_fail [
	("ap_arg_rule 7023",
	ap_arg_rule  »2¼,
	pq_ax,
	gen_fail_msg "ap_arg_rule" 7023 []),
	("ap_arg_rule 7025",
	ap_arg_rule  »f : † ‹ †¼,
	t_eq_f,
	gen_fail_msg "ap_arg_rule" 7025 [])
	];

=TEX
\section{CONVERSIONS AND CONVERSIONALS}
\subsection{fail\_conv}
=SML
store_mt_results mt_run_fail [
	("fail_conv",
	fail_conv,
	T,
	gen_fail_msg "fail_conv" 7061 [])
	];

=TEX
\subsection{fail\_with\_conv}
=SML
store_mt_results mt_run_fail [
	("fail_with_conv",
	fail_with_conv "testing",
	T,
	gen_fail_msg "fail_with_conv" 7075 ["testing"])
	];
=TEX
\subsection{THEN\_C}
=SML
store_mt_results mt_run [
	("THEN_C",
	dest_thm o suc_conv THEN_C (RAND_C suc_conv),
	»3¼,
	([],»3 = Suc(Suc 1)¼))
	];

store_mt_results mt_run_fail [
	("THEN_C 7101",
	(fn x => pq_ax) THEN_C suc_conv,
	»3¼,
	gen_fail_msg "THEN_C" 7101 []),
	("THEN_C 7102",
	suc_conv THEN_C (fn x => pq_ax),
	»3¼,
	gen_fail_msg "THEN_C" 7102 []),
	("THEN_C 1st fails",
	(fail_with_conv "testing THEN_C") THEN_C suc_conv,
	»3¼,
	gen_fail_msg "fail_with_conv" 7075 ["testing THEN_C"]),
	("THEN_C 2nd fails",
	suc_conv THEN_C (fail_with_conv "testing THEN_C"),
	»3¼,
	gen_fail_msg "fail_with_conv" 7075 ["testing THEN_C"])
	];

=TEX
\subsection{FURTHER\_C}
=SML
store_mt_results mt_run [
	("FURTHER_C a",
	dest_thm o suc_conv FURTHER_C (RAND_C suc_conv),
	»3¼,
	([],»3 = Suc(Suc 1)¼)),
	("FURTHER_C b",
	dest_thm o suc_conv FURTHER_C (fail_with_conv "testing FURTHER_C"),
	»3¼,
	([],»3 = Suc 2¼)),
	("FURTHER_C c",
	dest_thm o suc_conv FURTHER_C (fn x => pq_ax),
	»3¼,
	([],»3 = Suc 2¼)),
	("FURTHER_C d",
	dest_thm o (fn x => pq_ax) FURTHER_C suc_conv,
	»3¼,
	([],»„ p : 'a Ž q¼))
	];

store_mt_results mt_run_fail [
	("FURTHER_C 1st fails",
	(fail_with_conv "testing FURTHER_C") FURTHER_C suc_conv,
	»3¼,
	gen_fail_msg "fail_with_conv" 7075 ["testing FURTHER_C"])
	];

=TEX
\subsection{ORELSE\_C}
=SML
store_mt_results mt_run [
	("ORELSE_C a",
	dest_thm o suc_conv ORELSE_C refl_conv,
	»3¼,
	([],»3 = Suc 2¼)),
	("ORELSE_C b",
	dest_thm o (fail_with_conv "testing ORELSE_C") ORELSE_C suc_conv,
	»3¼,
	([],»3 = Suc 2¼))
	];

store_mt_results mt_run_fail [
	("ORELSE_C both fail",
	(fail_with_conv "testing ORELSE_C a") ORELSE_C 
		(fail_with_conv "testing ORELSE_C b"),
	»3¼,
	gen_fail_msg "fail_with_conv" 7075 ["testing ORELSE_C b"])
	];

=TEX
\subsection{EITHER\_C}
=SML
store_mt_results mt_run [
	("EITHER_C a",
	dest_thm o suc_conv EITHER_C (RAND_C suc_conv),
	»3¼,
	([],»3 = Suc(Suc 1)¼)),
	("EITHER_C b",
	dest_thm o suc_conv EITHER_C (fail_with_conv "testing EITHER_C"),
	»3¼,
	([],»3 = Suc 2¼)),
	("EITHER_C c",
	dest_thm o suc_conv EITHER_C (fn x => pq_ax),
	»3¼,
	([],»3 = Suc 2¼)),
	("EITHER_C d",
	dest_thm o (fn x => pq_ax) EITHER_C suc_conv,
	»3¼,
	([],»„ p : 'a Ž q¼)),
	("EITHER_C e",
	dest_thm o (fail_with_conv "testing EITHER_C") EITHER_C suc_conv,
	»3¼,
	([],»3 = Suc 2¼))
	];

store_mt_results mt_run_fail [
	("EITHER_C both fail",
	(fail_with_conv "testing EITHER_C a") EITHER_C 
		(fail_with_conv "testing EITHER_C b"),
	»3¼,
	gen_fail_msg "fail_with_conv" 7075 ["testing EITHER_C b"])
	];

=TEX
\subsection{REPEAT\_C}
=SML
store_mt_results mt_run [
	("REPEAT_C a",
	dest_thm o REPEAT_C strip_€_T_conv,
	»((a € T) € T) € T¼,
	([»(((a € T) € T) € T) = ((a € T) € T)¼,
		»((a € T) € T) = (a € T)¼,
		»(a € T) = a¼],
	»(((a € T) € T) € T) = a¼)),
	("REPEAT_C b",
	dest_thm o REPEAT_C strip_€_T_conv,
	»a: BOOL¼,
	([],»(a:BOOL) = a¼))	
	];

=TEX
\subsection{REPEAT1\_C}
=SML
store_mt_results mt_run [
	("REPEAT1_C",
	dest_thm o REPEAT1_C strip_€_T_conv,
	»((a € T) € T) € T¼,
	([»(((a € T) € T) € T) = ((a € T) € T)¼,
		»((a € T) € T) = (a € T)¼,
		»(a € T) = a¼],
	»(((a € T) € T) € T) = a¼))
	];

store_mt_results mt_run_fail [
	("REPEAT1_C 7075",
	REPEAT1_C strip_€_T_conv,
	»a : BOOL¼,
	gen_fail_msg "fail_with_conv" 7075 ["strip_€_T_conv"])
	];

=TEX
\subsection{LIST\_THEN\_C}
=SML
store_mt_results mt_run [
	("EVERY_C a",
	dest_thm o EVERY_C [strip_€_T_conv],
	»((a € T) € T) € T¼,
	([»(((a € T) € T) € T) = ((a € T) € T)¼],
	»(((a € T) € T) € T) = ((a € T) € T)¼)),
	("EVERY_C b",
	dest_thm o EVERY_C [strip_€_T_conv, strip_€_T_conv, strip_€_T_conv],
	»((a € T) € T) € T¼,
	([»(((a € T) € T) € T) = ((a € T) € T)¼,
		»((a € T) € T) = (a € T)¼,
		»(a € T) = a¼],
	»(((a € T) € T) € T) = a¼))
	];

store_mt_results mt_run_fail [
	("EVERY_C too many",
	EVERY_C [strip_€_T_conv, strip_€_T_conv, 
		strip_€_T_conv, strip_€_T_conv],
	»((a € T) € T) € T¼,
	gen_fail_msg "fail_with_conv" 7075 ["strip_€_T_conv"]),
	("EVERY_C one fails",
	EVERY_C [strip_€_T_conv, strip_€_T_conv, 
		fail_with_conv "testing EVERY_C", strip_€_T_conv],
	»((a € T) € T) € T¼,
	gen_fail_msg "fail_with_conv" 7075 ["testing EVERY_C"])
	];

store_mt_results mt_run_fail[
	("EVERY_C 7103",
	EVERY_C,
	[],
	gen_fail_msg "EVERY_C" 7103 [])
	];
=TEX
\subsection{LIST\_ORELSE\_C}
=SML
store_mt_results mt_run [
	("FIRST_C a",
	dest_thm o FIRST_C [strip_€_T_conv],
	»((a € T) € T) € T¼,
	([»(((a € T) € T) € T) = ((a € T) € T)¼],
	»(((a € T) € T) € T) = ((a € T) € T)¼)),
	("FIRST_C b",
	dest_thm o FIRST_C [strip_€_T_conv, strip_€_T_conv, strip_€_T_conv],
	»((a € T) € T) € T¼,
	([»(((a € T) € T) € T) = ((a € T) € T)¼],
	»(((a € T) € T) € T) = ((a € T) € T)¼)),
	("FIRST_C c",
	dest_thm o FIRST_C [strip_€_T_conv,
		fail_with_conv "testing FIRST_C"],
	»((a € T) € T) € T¼,
	([»(((a € T) € T) € T) = ((a € T) € T)¼],
	»(((a € T) € T) € T) = ((a € T) € T)¼))
	];

store_mt_results mt_run_fail[
	("FIRST_C 7103",
	FIRST_C,
	[],
	gen_fail_msg "FIRST_C" 7103 [])
	];
=TEX
\subsection{CHANGED\_C}
=SML
store_mt_results mt_run [
	("CHANGED_C",
	dest_thm o CHANGED_C suc_conv,
	»3¼,
	([],»3 = Suc 2¼))
	];

store_mt_results mt_run_fail [
	("CHANGED_C 7032",
	CHANGED_C refl_conv,
	»3¼,
	gen_fail_msg "CHANGED_C" 7032 []),
	("CHANGED_C 7104",
	CHANGED_C (fn x => pq_ax),
	»3¼,
	gen_fail_msg "CHANGED_C" 7104 [])
	];

=TEX
\subsection{TRY\_C}
=SML
store_mt_results mt_run [
	("TRY_C a",
	dest_thm o TRY_C suc_conv,
	»3¼,
	([],»3 = Suc 2¼)),
	("TRY_C a",
	dest_thm o TRY_C fail_conv,
	»3¼,
	([],»3 = 3¼))
	];

=TEX
\subsection{RAND\_C}
=SML
store_mt_results mt_run [
	("RAND_C",
	dest_thm o RAND_C suc_conv,
	»Suc 3¼,
	([],»Suc 3 = Suc(Suc 2)¼))
	];

store_mt_results mt_run_fail [
	("RAND_C conv fails",
	RAND_C (fail_with_conv "testing RAND_C"),
	»Suc 3¼,
	gen_fail_msg "fail_with_conv" 7075 ["testing RAND_C"]),
	("RAND_C conv 7045",
	RAND_C suc_conv,
	»3¼,
	gen_fail_msg "RAND_C" 7045 []),
	("RAND_C conv 7104",
	RAND_C (fn x => pq_ax),
	»Suc 3¼,
	gen_fail_msg "RAND_C" 7104 [])
	];
	
=TEX
\subsection{RATOR\_C}
=SML
store_mt_results mt_run [
	("RATOR_C",
	dest_thm o RATOR_C simple_%beta%_conv,
	»( x y : † Ž plus x y) 3 4 : †¼,
	([],»( x y : † Ž plus x y) 3 4  = (( y : † Ž plus 3 y) 4 : †)¼))
	];

store_mt_results mt_run_fail [
	("RATOR_C conv fails",
	RATOR_C (fail_with_conv "testing RATOR_C"),
	»Suc 3¼,
	gen_fail_msg "fail_with_conv" 7075 ["testing RATOR_C"]),
	("RATOR_C conv 7045",
	RATOR_C suc_conv,
	»3¼,
	gen_fail_msg "RATOR_C" 7045 []),
	("RATOR_C conv 7104",
	RATOR_C (fn x => pq_ax),
	»Suc 3¼,
	gen_fail_msg "RATOR_C" 7104 [])
	];
	
=TEX
\subsection{ABS\_C}
=SML
store_mt_results mt_run [
	("ABS_C",
	dest_thm o ABS_C suc_conv,
	» x Ž 3¼,
	([],»( x Ž 3) = ( x Ž Suc 2)¼))
	];

store_mt_results mt_run_fail [
	("ABS_C conv fails",
	ABS_C (fail_with_conv "testing ABS_C"),
	» x Ž Suc 3¼,
	gen_fail_msg "fail_with_conv" 7075 ["testing ABS_C"]),
	("ABS_C conv 7030",
	ABS_C suc_conv,
	»3¼,
	gen_fail_msg "ABS_C" 7030 []),
	("ABS_C conv 7104",
	ABS_C (fn x => pq_ax),
	» x Ž Suc 3¼,
	gen_fail_msg "ABS_C" 7104 [])
	];

=TEX
\subsection{BINDER\_C}
=SML
store_mt_results mt_run [
	("BINDER_C",
	dest_thm o BINDER_C (RAND_C suc_conv),
	»ƒ x Ž x = 3¼ ,
	([],»(ƒ x Ž x = 3) = (ƒ x Ž x = Suc 2)¼))
	];

store_mt_results mt_run_fail [
	("BINDER_C conv fails",
	BINDER_C (fail_with_conv "testing BINDER_C"),
	»ƒ x Ž x = 3¼,
	gen_fail_msg "fail_with_conv" 7075 ["testing BINDER_C"]),
	("BINDER_C conv 7059",
	BINDER_C suc_conv,
	»3¼,
	gen_fail_msg "BINDER_C" 7059 []),
	("BINDER_C conv 7104",
	BINDER_C (fn x => pq_ax),
	»ƒ x Ž x = 3¼,
	gen_fail_msg "BINDER_C" 7104 [])
	];

=TEX
\subsection{SUB\_C}
=SML
store_mt_results mt_run [
	("SUB_C a",
	dest_thm o SUB_C suc_conv,
	v1,
	([],»(v1:BOOL) = v1¼)),
	("SUB_C b",
	dest_thm o SUB_C suc_conv,
	T,
	([],»T = T¼)),
	("SUB_C c",
	dest_thm o SUB_C suc_conv,
	»f 3¼,
	([],»f 3 = f (Suc 2)¼)),
	("SUB_C d",
	dest_thm o SUB_C (RAND_C suc_conv),
	»f 3 4¼,
	([],»f 3 4 = f (Suc 2) 4¼)),
	("SUB_C e",
	dest_thm o SUB_C (RAND_C suc_conv ORELSE_C suc_conv),
	»f 3 4¼,
	([],»f 3 4 = f (Suc 2) (Suc 3)¼)),
	("SUB_C f",
	dest_thm o SUB_C suc_conv,
	» x Ž 3¼,
	([],»( x Ž 3) = ( x Ž (Suc 2))¼)),
	("SUB_C g",
	dest_thm o SUB_C (fail_with_conv "testing SUB_C"),
	»f x : BOOL¼,
	([],»(f x : BOOL) = (f x)¼)),
	("SUB_C h",
	dest_thm o SUB_C (fn x => pq_ax),
	»f x : BOOL¼,
	([],»(f x : BOOL) = (f x)¼))
	];
=TEX
\subsection{SUB1\_C}
=SML
store_mt_results mt_run [
	("SUB1_C a",
	dest_thm o SUB1_C suc_conv,
	»f 3¼,
	([],»f 3 = f (Suc 2)¼)),
	("SUB1_C b",
	dest_thm o SUB1_C (RAND_C suc_conv),
	»f 3 4¼,
	([],»f 3 4 = f (Suc 2) 4¼)),
	("SUB1_C c",
	dest_thm o SUB1_C (RAND_C suc_conv ORELSE_C suc_conv),
	»f 3 4¼,
	([],»f 3 4 = f (Suc 2) (Suc 3)¼)),
	("SUB1_C d",
	dest_thm o SUB1_C suc_conv,
	» x Ž 3¼,
	([],»( x Ž 3) = ( x Ž (Suc 2))¼)),
	("SUB1_C e",
	dest_thm o SUB1_C (fn x => if is_comb x
		then pq_ax
		else suc_conv x),
	»f 3 4¼,
	([],»f 3 4 = f 3 (Suc 3)¼))
	];

store_mt_results mt_run_fail [
	("SUB1_C 7104 a",
	SUB1_C (fn x => pq_ax),
	»f 3¼,
	gen_fail_msg "SUB1_C" 7104 []),
	("SUB1_C 7104 b",
	SUB1_C (RAND_C (fn x => pq_ax) ORELSE_C (fn x => pq_ax)),
	»f 3 4¼,
	gen_fail_msg "SUB1_C" 7104 []),
	("SUB1_C 7104 c",
	SUB1_C (fn x => pq_ax),
	» x Ž 3¼,
	gen_fail_msg "SUB1_C" 7104 []),
	("SUB1_C 7105 a",
	SUB1_C suc_conv,
	v1,
	gen_fail_msg "SUB1_C" 7105 []),
	("SUB1_C 7105 b",
	SUB1_C suc_conv,
	T,
	gen_fail_msg "SUB1_C" 7105 []),
	("SUB1_C conv fails",
	SUB1_C (fail_with_conv "testing SUB1_C"),
	»f x¼,
	gen_fail_msg "fail_with_conv" 7075 ["testing SUB1_C"])
	];
=TEX
\subsection{ONCE\_TRAVERSE\_C}
=SML
store_mt_results mt_run [
	("ONCE_TRAVERSE_C",
	dest_thm o ONCE_TRAVERSE_C simple_%beta%_conv,
	sample,
	([],mk_eq(sample,
	»( x y Ž (( x Ž Œ x) x € y) € ( p Ž p) q) T q¼)))
	];
=TEX
The failure message if a conversion applies nowhere is
a bit non-deterministic.
=SML
store_mt_results mt_run_fail [
	("ONCE_TRAVERSE_C cnv fails everywhere",
	ONCE_TRAVERSE_C (fail_with_conv "testing ONCE_TRAVERSE_C"),
	sample,
	gen_fail_msg "SUB1_C" 7105 [])
	];
=TEX
\subsection{TRAVERSE\_C}
=SML
store_mt_results mt_run [
	("TRAVERSE_C",
	dest_thm o TRAVERSE_C simple_%beta%_conv,
	sample,
	([],mk_eq(sample,
	»(( x Ž Œ x) T € q) € q¼)))
	];
=TEX
The failure message if a conversion applies nowhere is
a bit non-deterministic.
=SML
store_mt_results mt_run_fail [
	("TRAVERSE_C cnv fails everywhere",
	TRAVERSE_C (fail_with_conv "testing TRAVERSE_C"),
	sample,
	gen_fail_msg "fail_with_conv" 7075 ["testing TRAVERSE_C"])
	];
=TEX
\subsection{REPEAT\_TRAVERSE\_C}
=SML
store_mt_results mt_run [
	("REPEAT_TRAVERSE_C",
	dest_thm o REPEAT_TRAVERSE_C simple_%beta%_conv,
	sample,
	([],mk_eq(sample,
	»((Œ T) € q) € q¼)))
	];
=TEX
The failure message if a conversion applies nowhere is
a bit non-deterministic.
=SML
store_mt_results mt_run_fail [
	("REPEAT_TRAVERSE_C cnv fails everywhere",
	REPEAT_TRAVERSE_C (fail_with_conv "testing REPEAT_TRAVERSE_C"),
	sample,
	gen_fail_msg "fail_with_conv" 7075 ["testing REPEAT_TRAVERSE_C"])
	];
=TEX
\subsection{TOP\_TRAVERSE\_C}
=SML
store_mt_results mt_run [
	("TOP_TRAVERSE_C",
	dest_thm o TOP_TRAVERSE_C simple_%beta%_conv,
	sample,
	([],mk_eq(sample,
	»( x y Ž ((Œ x) € y) € q) T q¼)))
	];
=TEX
The failure message if a conversion applies nowhere is
a bit non-deterministic.
=SML
store_mt_results mt_run_fail [
	("TOP_TRAVERSE_C cnv fails everywhere",
	TOP_TRAVERSE_C (fail_with_conv "testing TOP_TRAVERSE_C"),
	sample,
	gen_fail_msg "SUB1_C" 7105 [])
	];
=TEX
\subsection{conv\_rule}
=SML
store_mt_results mt_run [
	("conv_rule",
	dest_thm o conv_rule (REPEAT_TRAVERSE_C suc_conv),
	div2_conv (list_mk_comb(tDiv,[»3¼,»2¼])),
	([],mk_eq(list_mk_comb(tDiv,[»Suc(Suc(Suc 0))¼,»(Suc(Suc 0))¼]),
		»Suc 0¼)))
	];

store_mt_results mt_run_fail [
	("conv_rule 7104",
	conv_rule (fn x => pq_ax),
	asm_rule T,
	gen_fail_msg "conv_rule" 7104 []),
	("conv_rule cnv fails",
	conv_rule (fail_with_conv "testing conv_rule"),
	asm_rule T,
	gen_fail_msg "fail_with_conv" 7075 ["testing conv_rule"])
	];

=TEX
\section{END OF TESTS}
=SML
summarize_mt_results();
=TEX
Undo theory creation, etc
=SML
(*
open_theory start_theory;
delete_theory "out_of_scope_mdt007";
delete_theory "test_mdt007";
*)
(* PolyML.quit(); *)
=TEX
\section{UNTESTED ERROR MESSAGES}
The following are not tested for various reasons:

\begin{tabular}{| l | p{4.5in} |}\hline
Test & Comment \\ \hline
\hline
\end{tabular}
=TEX
\twocolumn[\section{INDEX}]
\small
\printindex
=TEX
\end{document}
