=TEX
% TQtemplate.tex
\documentstyle[hol1,11pt,TQ]{article}
\ftlinepenalty=9999
\def\Hide#1{}
\def\Bool{``$\it{:}bool\,$''}
\makeindex
\TPPproject{FST PROJECT}  %% Mandatory field
%\TPPvolume{}
%\TPPpart{}
\TPPtitle{Implementation of Basic Definitions and Axioms}  %% Mandatory field
\TPPref{DS/FMU/IED/IMP023}  %% Mandatory field
\def\SCCSversion{$Revision$%
}
\TPPissue{\SCCSversion}  %% Mandatory field
\TPPdate{\FormatDate{$Date$%
}}  %% Mandatory field (with sensible default)
\TPPstatus{Draft}			%% Mandatory field
\TPPtype{Specification}
\TPPkeywords{HOL}
\TPPauthor{D.J.~King & WIN01}  %% Mandatory field
%\TPPauthors{Name 1&location 1\\Name 2&location 2\\Name 3&location 3}
\TPPauthorisation{R.D.~Arthan & FST Team Leader}
\TPPabstract{This document contains an implementation of
the basic definitions and axioms for ICL HOL.
}
%\TPPabstractB{}
%\TPPabstractC{}
%\TPPabstractD{}
%\TPPabstractE{}
%\TPPabstractF{}
\TPPdistribution{\parbox[t]{4.0in}{%
      Library \\ R.D. Arthan\\ D.J. King}}

%\TPPclass{CLASSIFICATION}
%\def\TPPheadlhs{}
%\def\TPPheadcentre{}
%def\TPPheadrhs{}
%\def\TPPfootlhs{}
%\def\TPPfootcentre{}
%\def\TPPfootrhs{}

\begin{document}
\TPPsetsizes
\makeTPPfrontpage

\vfill
\begin{centering}

\bf Copyright \copyright\ : International Computers Ltd \number\year

\end{centering}

\pagebreak
\section{DOCUMENT CONTROL}
\subsection{Contents List}
\tableofcontents
\subsection{Document Cross References}
\bibliographystyle{fmu}
\bibliography{fmu}

\subsection{Changes History}  % to get section number `0.3'
\begin{description}
\item[Issue 1.1]
First version, based on \cite{DS/FMU/IED/DTD023}.
\item[Issue 1.5]
Changed $¶_1\_def$ (KB).
\item [Issue 1.6]
The name atom ``definition'' has been consistently changed
to ``defn''.
\item [Issue 1.7,1.8]
Changed as result of changes caused by IR0016.
\item [Issue 1.9]
Amended relative precedence of equality and negation.

\item[Issue 1.10, \FormatDate{92/01/20} ] Updated to use new fonts.
\item[Issue 1.11 (23rd January 1992)]
$new\_axiom$, $simple\_new\_type\_defn$ and $new\_type\_defn$
all changed to take lists of keys, rather than single ones.
\item[Issue 1.12]
Fixed a typo, added trivial introductory material into ``GENERAL'' section.
\end{description}
\subsection{Changes Forecast}
None.
\pagebreak
\section{GENERAL}
\subsection{Scope}
This document contains an implementation
of the detailed design in \cite{DS/FMU/IED/DTD023}.

\subsection{Introduction}
\subsubsection{Background and Purpose}
This document implements the three initial theories of ICL HOL,
called ``min'', ``log'' and ``init'', as well as the first entries
for a theory of miscellaneous material ``misc'',
as described in \cite{DS/FMU/IED/DTD023}.

\subsubsection{Dependencies}
Its signature, \cite{DS/FMU/IED/DTD023}.
\subsubsection{Possible Enhancements}
None known.
\subsubsection{Deficiencies}
None known.
\section{The Theory $min$}
=SML
structure ÛMinTheoryÝ : MinTheory = struct
local
	val unit = open_theory "min";
	val unit = new_type ("­", 2);
	val unit = declare_infix (100, "­");
	val unit = new_type ("BOOL", 0);
	val unit = new_type ("IND", 0);

	val unit = new_const ("´", ¬:BOOL ­ BOOL ­ BOOL®);
	val unit = new_const ("=", ¬:'a ­ 'a ­ BOOL®);
	val unit = new_const ("Í", ¬:('a ­ BOOL) ­ 'a®);
	val unit = declare_infix (20, "´");
	val unit = declare_infix (200, "=");
	val unit = declare_binder "Ì";
	val unit = declare_binder "Í";

	val unit = declare_terminator "­";
	val unit = declare_terminator "´";
	val unit = declare_terminator "=";
	val unit = declare_terminator "Ì";
	val unit = declare_terminator "Í";
in
end (* of local ... in ... *)
end; (* of structure MinTheory *)
=TEX
\section{The Theory $log$}
=SML
structure ÛLogTheoryÝ : LogTheory = struct
local
	val unit = new_theory "log";
	val unit = declare_binder "µ";
	val unit = declare_terminator "µ";
	val unit = declare_binder "¶";
	val unit = declare_terminator "¶";
	val unit = declare_prefix (50, "³");
	val unit = declare_terminator "³";
	val unit = declare_infix (40, "±");
	val unit = declare_terminator "±";
	val unit = declare_infix (30, "²");
	val unit = declare_terminator "²";
in
	val t_def =
		simple_new_defn (["T","t_def"], "T",
			¬(Ìx:BOOL · x) = (Ìx:BOOL · x)®);

	val µ_def =
		simple_new_defn (["µ","µ_def"], "µ",
			¬ÌP:'a ­ BOOL · P = (Ìx · T)®);

	val ¶_def =
		simple_new_defn (["¶","¶_def"], "¶",
			¬ÌP:'a ­ BOOL · P ($Í P)®);

	val f_def =
		simple_new_defn (["F","f_def"], "F",
			¬µ b:BOOL · b®);

	val ³_def =
		simple_new_defn (["³","³_def"], "³",
			¬Ìb:BOOL · b ´ F®);

	val ±_def =
		simple_new_defn (["±","±_def"], "±",
		¬Ìb1 · Ìb2 · µb · (b1 ´ (b2 ´ b)) ´ b®);

	val ²_def =
		simple_new_defn (["²","²_def"], "²",
		¬Ìb1 · Ìb2 · µb · (b1 ´ b) ´ ((b2 ´ b) ´ b)®);

	val one_one_def =
		simple_new_defn (["OneOne","one_one_def"], "OneOne",
		¬Ìf:'a ­ 'b · µx1 · µx2 · (f x1 = f x2) ´ (x1 = x2)®);

	val onto_def =
		simple_new_defn (["Onto","onto_def"], "Onto",
		¬Ìf:'a ­ 'b · µy · ¶x · y = f x®);

	val type_defn_def =
		simple_new_defn (["TypeDefn","type_defn_def"], "TypeDefn",
		¬ÌP · Ìrep:'a ­ 'b ·  OneOne rep ± µx · P x = ¶y · x = rep y®);
end; (* of local ... in ... *)
end; (* of structure LogTheory *)
=TEX
\section{The Theory $init$}
=SML
structure ÛInitTheoryÝ : InitTheory = struct
local
	val unit = new_theory "init";
in

	val bool_cases_axiom = new_axiom (["bool_cases_axiom"],
		¬µb · (b = T) ² (b = F)®);

	val ´_antisym_axiom = new_axiom (["´_antisym_axiom"],
		¬µb1 · µb2 · (b1 ´ b2) ´ (b2 ´ b1) ´ (b1 = b2)®);

	val eta_axiom = new_axiom (["eta_axiom"],
		¬µf:'a ­ 'b · (Ìx · f x) = f®);

	val Í_axiom = new_axiom (["Í_axiom"],
		¬µP:'a ­ BOOL · µx · P x ´ P($Í P)®);

	val infinity_axiom = new_axiom (["infinity_axiom"],
		¬¶f:IND ­ IND · OneOne f ± $³(Onto f)®);
end; (* of local ... in ... *)
end; (* of structure InitTheory *)
=TEX
\section{The Theory $misc$}
This contains definitions of bi-implication and
the unique existential quantifer, together with
some of the constants needed to support the parser · 
=SML
structure ÛMiscTheoryÝ : MiscTheory = struct
local
	val unit = new_theory "misc";
	val unit = declare_binder "¶‰1";
	val unit = declare_terminator "¶‰1";
	val unit = declare_alias ("¤", ¬$=:BOOL­BOOL­BOOL®);
	val unit = declare_infix (10, "¤");
	val unit = declare_terminator "¤";

in
	val ¶‰1_def = simple_new_defn (["¶‰1","¶‰1_def"], "¶‰1",
		¬ÌP:'a ­ BOOL ·  ¶ t · P t ± µ x · P x ´ (x = t)®);

	val let_def = simple_new_defn (["Let","let_def"], "Let",
		¬Ìf:'a ­ 'b · Ìx ·  f x®);

	val cond_def = simple_new_defn (["Cond","cond_def"], "Cond",
		¬Ìb · Ìx1:'a · Ìx2 · Íx · ((b=T) ´ (x=x1)) ± ((b=F) ´ (x=x2))®);
end; (* of local ... in ... *)
end; (* of structure MiscTheory *)
=TEX

=SML
open MinTheory LogTheory InitTheory MiscTheory;
=TEX

\twocolumn[\section{INDEX OF DEFINED TERMS}]
\printindex
\end{document}




