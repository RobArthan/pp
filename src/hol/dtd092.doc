%  dtd038.doc  %Z% $Date$ $Revision$ $RCSfile$
=TEX
% TQtemplate.tex
\documentstyle[hol1,11pt,TQ]{article}
\ftlinepenalty=9999
\def\Hide#1{}
\def\Bool{``$\it{:}bool\,$''}
\makeindex
\TPPproject{FST PROJECT}  %% Mandatory field
%\TPPvolume{}
%\TPPpart{}
\TPPtitle{Further Theorems About Sets}  %% Mandatory field
\TPPref{DS/FMU/IED/DTD092}  %% Mandatory field
\def\SCCSversion{$Revision$%
}
\TPPissue{\SCCSversion}  %% Mandatory field
%\TPPdate{}  %% Mandatory field (with sensible default)
\TPPstatus{Draft}			%% Mandatory field
\TPPtype{Specification}
\TPPkeywords{HOL}
\TPPauthor{R.D.~Arthan & WIN01}  %% Mandatory field
%\TPPauthors{Name 1&location 1\\Name 2&location 2\\Name 3&location 3}
\TPPauthorisation{R.B.Jones & HAT Team Leader}
\TPPabstract{
This document contains the detailed design for further theorems
about sets.}
%\TPPabstractB{}
%\TPPabstractC{}
%\TPPabstractD{}
%\TPPabstractE{}
%\TPPabstractF{}
\TPPdistribution{\parbox[t]{4.0in}{%
	Library}}

%\TPPclass{CLASSIFICATION}
%\def\TPPheadlhs{}
%\def\TPPheadcentre{}
%def\TPPheadrhs{}
%\def\TPPfootlhs{}
%\def\TPPfootcentre{}
%\def\TPPfootrhs{}

\begin{document}
\TPPsetsizes
\makeTPPfrontpage

\vfill
\begin{centering}

\bf Copyright \copyright\ : International Computers Ltd \number\year

\end{centering}

\newpage
\section{DOCUMENT CONTROL}
\subsection{Contents List}
\tableofcontents
\subsection{Document Cross References}
\bibliographystyle{fmu}
\bibliography{fmu}

\subsection{Changes History}  % to get section number `0.3'
\begin{description}
\item [Issue \SCCSversion (\FormatDate{$Date$%
})]
First draft.
\end{description}
\subsection{Changes Forecast}
Further results could be added (Schroeder-Bernstein?).
\pagebreak
\section{GENERAL}
\subsection{Scope}
This document contains the detailed design for further
theorems about sets for \ProductHOL.
The high level design for this material is given in \cite{DS/FMU/IED/HLD011}.

\subsection{Introduction}
This document develops some more advanced theorems about sets and relations
than those offered in the basic theoriues of
\cite{DS/FMU/IED/DTD044,DS/FMU/IED/DTD044}. The theorems are Zorn's lemma
(in a purely set-theoretic guise and as the more general statement about
partial orderings) and the well-ordering theorem.
\subsubsection{Purpose and Background}
See \cite{DS/FMU/IED/HLD011}.
\subsubsection{Dependencies}
This document depends on the theory design support
tools in \cite{DS/FMU/IED/DTD035} and
on the theory of relations in \cite{DS/FMU/IED/IMP071}
\subsubsection{Possible Enhancements}
None known.
\subsubsection{Deficiencies}
None known.
\section{THE THEORY CONTENTS}
\subsection{Theory Name}
=THDOC
req_name €"set_thms"› (Value "sets");
=DESCRIBE
=ENDDOC
=TEX
\documentstyle[TQa4,hol1]{article}
\begin{document}
=TEX
\section{ZORN'S LEMMA (SPECIAL CASE)}
\subsection{Introduction}
This section presents a proof of the difficult part of Zorn's
lemma as given in section 16 of the book ``Naive Set Theory''
by Paul R. Halmos, \cite{Halmos74}.

Recall that the informal statement of Zorn's
lemma is the following:

\paragraph{Theorem}
If $a$ is a partially ordered set such that
every chain in $a$ has an upper bound, then $a$ contains a maximal element.
\end{quotation}

The difficult part of the proof as given in \cite{Halmos74} is the special case
when $a$ is a set of sets and the partial order is that of inclusion. The general
case reduces to this one fairly simply (by considering for each element
$x$ of $a$, the set comprising $x$ and all its predecessors). The intention
here is to present the proof of this special case in the context of
the \ProductHOL\ theory of sets. It will then be straightforward to derive
the general case for the several different formulations of the idea of
a partial ordering relation with which it may be needed
(namely, for relations viewed as two-place propositional functions,
for relations viewed as sets of pairs, and, in \ProductZ\ for relations
viewed as sets of Z 2-tuples). The version for  relations as sets of
pairs is done in this document.

We adopt the following variable naming conventions, which differ from
those of \cite{Halmos74}: 
$x$, $y$, $z$ will be elements, $a$, $b$, $c$, sets, and $t$, $u$ and $v$,
sets of sets. E.g., Halmos's $\cal X$ will be $u$ throughout, 
his $A$ will be $a$, and his towers, $\cal T$, will be $t$.

\subsection{Definitions}

We could conduct the proof without making any HOL definitions,
since the special notions Halmos uses are only required for the
proof itself, but the statement of the theorem is much clearer if
we do introduce constants to capture the notions involved.
It is feasible to avoid making constant definitions
for any notions other than these;
however, the polymorphic choice function which is used seems to be of
use elsewhere, and so, as it requires a manual consistency proof, it has been
defined as a constant here.

=SML
open_theory"sets";
new_theory"set_thms";
set_pc"sets_ext";
=TEX

To allow the term $chain$ to be used in other contexts
we choose to use the term {\em nest} for a chain of sets under inclusion.
As in the following HOL definition, this means that a {\em nest}
is any set of sets any two elements of which are comparable w.r.t the inclusion
relation.

πHOLCONST
	Nest : 'a SET SET ≠ BOOL
˜
	µu : 'a SET SET∑
	Nest u § µa b∑a ç u ± b ç u ¥ a Ä b ≤ b Ä a
∞

We say a set of sets is subset-closed if any subset of an element of the set
is also an element of the set:

πHOLCONST
	SubsetClosed : 'a SET SET ≠ BOOL
˜
	µu : 'a SET SET∑
	SubsetClosed u § µa b∑ a ç u ± b Ä a ¥ b ç u
∞

We say a set of sets is nest-closed if the union of any nest in the set
is an element of the set:

πHOLCONST
	NestClosed : 'a SET SET ≠ BOOL
˜
	µu : 'a SET SET∑
	NestClosed u § µv∑v Ä u ± Nest v ¥ ﬁv ç u
∞

The final notion required in the statement of the theorem is that
of a maximal element of a set of sets.
πHOLCONST
	MaximalâÄ : 'a SET SET ≠ 'a SET ≠ BOOL
˜
	µu : 'a SET SET; a : 'a SET∑
	MaximalâÄ u a § a ç u ± µb∑b ç u ± a Ä b ¥ b = a
∞


Our formal statement of the special case of Zorn's lemma
will then be the following conjecture:
=GFT
	µu : 'a SET SET∑
		≥u = {}
	±	SubsetClosed u
	±	NestClosed u
	¥	∂a∑MaximalâÄ u a
=TEX

We define the polymorphic choice function used in the proof
since this may well be of use elsewhere. It is the provable
consistency of the following definition which is the ``interface'' between
the proof we give and HOL's formulation of the axiom of choice (which
stems, essentially, from $\epsilon\_axiom$ and the other rules of simple
type theory). 

πHOLCONST
	Choose : 'a SET ≠ 'a
˜
	µa : 'a SET∑ ≥a = {} § Choose a ç a
∞

=TEX
\section{ZORN'S LEMMA (GENERAL CASE)}
=SML
open_theory"bin_rel";
new_theory€"bin_rel_thms"›;
new_parent"set_thms";
push_pc"hol";
=TEX
πHOLCONST
	ReflexiveIn : 'a SET ≠ ('a ™ 'a) SET
˜
	µa∑ ReflexiveIn a = {r | µx∑ x ç a ¥ (x, x) ç r}
∞

πHOLCONST
	Antisymmetric : ('a ™ 'a) SET
˜
	Antisymmetric = {r | µx y∑ (x, y) ç r ± (y, x) ç r ¥ x = y}
∞

πHOLCONST
	Chains : ('a ™ 'a) ≠ 'a SET SET
˜
	µr∑ Chains r = {a | µx y∑ x ç a ± y ç a ¥ (x, y) ç r ≤ (y, x) ç r}
∞

πHOLCONST
	UpperBounds : ('a ™ 'a) ≠ 'a SET ≠ 'a SET
˜
	µr; a∑ UpperBounds r a = {x | µy∑ y ç a ¥ (y, x) ç r}
∞

πHOLCONST
	MaximalElements : ('a ™ 'a) ≠ 'a SET ≠ 'a SET
˜
	µr; a∑ MaximalElements r a = {x | x ç a ± µy∑ y ç a ± (x, y) ç r ¥ y = x}
∞

\section{TEST POLICY}

Any functions are to be tested according to then
general criteria laid down in the quality plan, \cite{DS/FMU/IED/PLN008}.
The theory implemented is to be checked by the theory design tools
of \cite{DS/FMU/IED/DTD035}.
\small
\twocolumn[\section{INDEX}]
\printindex

\end{document}


