=TEX
% TQtemplate.tex
\documentstyle[hol,11pt,TQ]{article}
\ftlinepenalty=9999
\def\Hide#1{}
\def\Bool{``$\it{:}bool\,$''}
\makeindex
\TPPproject{FST PROJECT}  %% Mandatory field
%\TPPvolume{}
%\TPPpart{}
\TPPtitle{Detailed Design for Warning Message Subsystem}  %% Mandatory field
\TPPref{DS/FMU/IED/DTD002}  %% Mandatory field
\def\SCCSversion{$Revision$%
}
\TPPissue{\SCCSversion}  %% Mandatory field
\TPPdate{\FormatDate{$Date$%
}}  %% Mandatory field (with sensible default)
\TPPstatus{Draft}			%% Mandatory field
\TPPtype{Specification}
\TPPkeywords{HOL}
\TPPauthor{R.D.~Arthan & WIN01}  %% Mandatory field
%\TPPauthors{Name 1&location 1\\Name 2&location 2\\Name 3&location 3}
\TPPauthorisation{R.D.~Arthan & FST Team Leader}
\TPPabstract{
This document gives the detailed design of the
facility for reporting recoverable error (or warning) conditions
to the user in the ICL HOL system.}
%\TPPabstractB{}
%\TPPabstractC{}
%\TPPabstractD{}
%\TPPabstractE{}
%\TPPabstractF{}
\TPPdistribution{\parbox[t]{4.0in}{%
      Library \\ R.D. Arthan\\ K. Blackburn\\ A.J. Hammon}}

%\TPPclass{CLASSIFICATION}
%\def\TPPheadlhs{}
%\def\TPPheadcentre{}
%def\TPPheadrhs{}
%\def\TPPfootlhs{}
%\def\TPPfootcentre{}
%\def\TPPfootrhs{}

\begin{document}
\TPPsetsizes
\makeTPPfrontpage

\vfill
\begin{centering}

\bf Copyright \copyright\ : International Computers Ltd \number\year

\end{centering}

\newpage
\section{DOCUMENT CONTROL}
\subsection{Contents list}
\tableofcontents
\subsection{Document cross references}
\bibliographystyle{fmu}
\bibliography{fmu}

\subsection{Changes history}  % to get section number `0.3'
\begin{description}
\item[Issue 1.1]
First draft for comment.
\end{description}
\subsection{Changes forecast}
\section{GENERAL}
\subsection{Scope}
This document contains part of the detailed design of the
ICL HOL system. The high-level design for this document in
\cite{DS/FMU/IED/HLD006}.
\subsection{Introduction}
\subsubsection{Background and Purpose}
The desired attributes of the warning message subsystem
are defined in \cite{DS/FMU/IED/HLD002} and further elaborated
in \cite{DS/FMU/IED/HLD006}.
\subsubsection{Dependencies}
This document depends on \cite{DS/FMU/IED/IMP002}.
The (non-standard) $ExtendedIO$ structure or some similar
library facility is required to detect whether or not the session
is interactive.
\subsubsection{Interface}
The document defines a signature $Warning$.
\subsubsection{Possible Enhancements}

\subsubsection{Deficiencies}\label{Deficiencies}

\section{PREAMBLE}
=DOC
signature âWarningá = sig
=DESCRIBE
This is the signature of the structure containing the function $warn$
which is used to report recoverable error conditions.
=ENDDOC
\section{THE FUNCTION $warn$}
=DOC
	val âwarná : string -> int -> (unit -> string) list -> unit
=DESCRIBE
$warn$ is used to report on recoverable error conditions. The parameters
are exactly as for $fail$ and $error$ (q.v.).
The effect of $warn$ depends the system control flag and
$ignore\_warnings$ and on whether or not the system is running
interactively as follows:

\begin{centering}
\begin{tabular}{|l|l|p{3.5in}|}\hline
$interactive$ & $ignore\_warnings$ & Effect \\ \hline
yes & false &
the message is reported; the system asks the user whether to continue;
if the answer is `yes' then control returns to the caller of $warn$
otherwise an exception is raised.
\\ \hline
yes & true &
the message is reported and control returns to the caller of $warn$
\\ \hline
no & false &
the message is reported and an exception is raised  
\\ \hline
no & true &
the message is reported and control returns to the caller of $warn$
\end{tabular}
\end{centering}
=FAILURE
10001	*** WARNING ?0 raised by ?1:
10002	Do you wish to continue (y/n)?
10003	execution of ?0 abandoned
=ENDDOC

=SML
end; (* of signature Warning *)
=TEX
\section{TEST POLICY}
\twocolumn[\section{INDEX OF DEFINED TERMS}]
\printindex
\end{document}
