=IGN
********************************************************************************
mdt116.doc: this file is part of the PPHol system

Copyright (c) 2002 Lemma 1 Ltd.

See the file LICENSE for your rights to use and change this file.

Contact: Rob Arthan < rda@lemma-one.com >
********************************************************************************
=TEX
\documentclass[a4paper,12pt]{article}

%%%%% YOU CAN ADD OTHER PACKAGES AS NEEDED BELOW:
\usepackage{A4}
\usepackage{Lemma1}
\usepackage{ProofPower}
\usepackage{epsf}
\makeindex

\def\Title{ Higher-Order Matching: Module Tests }

\def\Abstract{\begin{center}
{\bf Abstract}\par\parbox{0.7\hsize}
{\small This document gives the module tests for the higher-order matching module.}
\end{center}}

\def\Reference{LEMMA1/HOL/MDT114}

\def\Author{R.D. Arthan}

\def\EMail{{\tt rda@lemma-one.com}}

\def\Phone{+44 118 958 4409}

\def\Fax{+44 118 956 1920}

%%%%% YOU MAY WANT TO CHANGE THE FOLLOWING TO GET A NICE FRONT PAGE:
\def\FrontPageTitle{ {\huge \Title } }
\def\FrontPageHeader{\raisebox{16ex}{\begin{tabular}[t]{c}
\bf Copyright \copyright\ : Lemma 1 Ltd \number\year\\\strut\\
\end{tabular}}}
\begin{centering}



\end{centering}

%%%%% THE FOLLOWING DEFAULTS WILL GENERALLY BE RIGHT:

\def\Version{1.7%
}
\def\Date{\FormatDate{2002/10/17 16:20:01%
}}

%%%%% NOW BEGIN THE DOCUMENT AND MAKE THE FRONT PAGE

\begin{document}
\headsep=0mm
\FrontPage
\headsep=10mm

%%%%% STANDARD RED-TAPE SECTIONS (MAY WANT TO INTERLEAVE SOME \newpage COMMANDS IN THESE)

%%%%% CONTENTS:

\subsection{Contents}

\tableofcontents

%%%%% REFERENCES:

\newpage
\subsection{References}

\bibliographystyle{fmu}

%%%%% CHANGE THE FOLLOWING AS NECESSARY (E.G., TO PICK UP daz.bib):
{\raggedright
\bibliography{fmu}
}
%%%%% CHANGES HISTORY:
\subsection{Changes History}
\begin{description}
\item[Issue 1.1] First draft (place-holder).
\item[Issue 1.2] First complete version.
\item[Issue 1.3] Added tests for cases where there are $\eta$-redexes in
the pattern.
\item[Issue 1.4] Renamed $ho\_match$ on $simple\_ho\_match$ to make
way for an implementation of the Fettig/L\"{o}chner algborithm later.
\end{description}

%%%%%  CHANGES FORECAST:

\subsection{Changes Forecast}

None.

%%%%% DISTRIBUTION LIST

\subsection{Distribution}

Lemma 1 build system.

\newpage

\section{INTRODUCTION}
\subsection{Scope}
This document contains the module tests associated with the higher-order matching function.
required by \cite{DS/FMU/IED/DTD120} and
implemented in \cite{DS/FMU/IED/IMP120}.
\subsection{Introduction}
\subsubsection{Purpose and Background}
See \cite{DS/FMU/IED/DTD120}.
\subsubsection{Dependencies}
The test material depends on \cite{DS/FMU/IED/DTD013} and \cite{DS/FMU/IED/IMP013}.

\subsubsection{Deficiencies}
None known.
\section{INITIALISATION}
Initialise the test package:
=SML
use_file "dtd013.sml";
use_file "imp013.sml";
init_mt_results ();
=TEX
=TEX
=SML
fun gen_term_fail_msg area num tms = (
	gen_fail_msg area num (map string_of_term tms)
);
=TEX
=SML
open_theory "basic_hol";
new_theory"mdt120";
new_const("II", ”'a ­ 'a®);
=TEX
\section{TEST CASES}


\section{THE TESTS}
\subsection{Group 1: Atoms}
=SML
store_mt_results
mt_run [
("120.simple_ho_match.1.1",
	uncurry simple_ho_match,
		( ¬ x:'a ® , ¬ y:'a ® ),
			([], [(¬x:'a®, ¬y:'a®)]) ),
("120.simple_ho_match.1.2",
	uncurry simple_ho_match,
		( ¬ 1 ® , ¬ 1 ® ),
			([], []) ),
("120.simple_ho_match.1.3",
	uncurry simple_ho_match,
		( ¬ 1 ® , ¬ y ® ),
			([(”î®, ”'a®)], [(¬1®, ¬y:î®)]) )];
=TEX
=SML
store_mt_results
mt_run_fail [
("120.simple_ho_match.1.4",
	uncurry simple_ho_match,
		( ¬ 1 ® , ¬ 2 ® ),
			gen_term_fail_msg "simple_ho_match" 120001 [¬1®, ¬2®] )];

=TEX
\subsection{Group 2: Ì-abstractions}
=SML
store_mt_results
mt_run [
("120.simple_ho_match.2.1",
	uncurry simple_ho_match,
		( ¬ Ìx:'a · x® , ¬ Ìy:'a · y® ),
			([], []) ),
("120.simple_ho_match.2.2",
	uncurry simple_ho_match,
		( ¬ Ìx:'a · x ® , ¬ Ìy : 'a · (p y) : 'b ® ),
			([(”'a®, ”'b®)], [(¬(Ìx· x): 'a ­ 'a®, ¬p:'a ­ 'a®)]) ),
("120.simple_ho_match.2.3",
	uncurry simple_ho_match,
		( ¬ Ìx:î · f x : î ® , ¬ p:'b ® ),
			([(”î ­ î®, ”'b®)], [(¬ Ìx:î · f x : î ®, ¬p:î ­ î®)]) ),
("120.simple_ho_match.2.4",
	uncurry simple_ho_match,
		( ¬ Ìx:î · x + 1 ® , ¬ Ìy:'a· t y:'a ® ),
			([(”î®, ”'a®)], [(¬ Ì x· x + 1 ®, ¬t:î ­ î®)]) )];
=TEX
\subsection{Group 3: applications}
=SML
store_mt_results
mt_run [
("120.simple_ho_match.3.1",
	uncurry simple_ho_match,
		( ¬ (Ìx·x) (Ìx:'a · x) ® , ¬ (Ìy·y)  (Ìy : 'a · (p y) : 'b ) ® ),
			([(”'a®, ”'b®)], [(¬(Ìx· x): 'a ­ 'a®, ¬p:'a ­ 'a®)])  ),
("120.simple_ho_match.3.2",
	uncurry simple_ho_match,
		( ¬ II (Ìx:'a · x) ® , ¬  II (Ìy : 'a · (p y) : 'b ) ® ),
			([(”'a®, ”'b®)], [(¬(Ìx· x): 'a ­ 'a®, ¬p:'a ­ 'a®)])  )];

=TEX
\subsection{Group 4: È-redexes in the pattern}
=SML
store_mt_results
mt_run [
("120.simple_ho_match.4.1",
	uncurry simple_ho_match,
		( ¬ P : 'a ­ 'b  ® , ¬ Ìx· (G : 'b ­ 'a) x® ),
			([(”'b®, ”'a®), (”'a®, ”'b®)], [(¬Ì x· (P : 'a ­ 'b) x®, ¬G : 'a ­ 'b®)])  ),
("120.simple_ho_match.4.2",
	uncurry simple_ho_match,
		( ¬ (P : ('a ­ 'b) ­ 'c) X ® ,
		¬ (G : ('a ­ 'b) ­ 'c) (Ìx· H x)® ),
			([], [(¬Ì H:'a ­ 'b· (P : ('a ­ 'b) ­ 'c) X®, ¬G : ('a ­ 'b) ­ 'c®)])  ),
("120.simple_ho_match.4.3",
	uncurry simple_ho_match,
		( ¬ (P : ('a ­ 'b) ­ 'c) X ® ,
		¬ ((Ìx·G x) : ('a ­ 'b) ­ 'c) Y® ),
			([], [(¬Ì Y:'a ­ 'b· (P : ('a ­ 'b) ­ 'c) X®, ¬G : ('a ­ 'b) ­ 'c®)])  )];
=IGN
simple_ho_match ¬Ìt·t 1® ¬Ìa· f (Ìx· a x)®;

simple_ho_match ¬ (Ìx·x) (Ìx:'a · x) ® ¬ (Ìx·x) (Ìy : 'a · (p y) : 'b ) ® ;
simple_ho_match ¬ (Ìx·x) (Ìx:'a · x) ® ¬ (Ìy·y) (Ìy : 'a · (p y) : 'b ) ® ;


 È_axiom;
simple_ho_match ¬ Ìx:'a · x ® ¬ (Ìf: 'b ­ 'b· f) (Ìy· y) ®;

simple_ho_match ¬ µx· x < 1 ² x = y ® ¬ µx· P x ®;
simple_ho_match ¬ µx· x < 1 ² Fst (T, (T, F))® ¬ µx· P x ² Fst y®;
simple_ho_match ¬ µx· x < 1 ± x = y ® ¬ µx· P x ± Q x®;
simple_ho_match ¬ (t : 'a ­ 'b) ® ¬ Ìx:'a·(f x : 'b)®;
simple_ho_match ¬ (t : î ­ î ¸ î ­ BOOL) ® ¬ Ìx:'a; y : 'b·(f x y: 'c)®;

=TEX
=TEX
\section{END OF TESTS}
=SML
diag_string(summarize_mt_results());
=TEX
\end{document}







